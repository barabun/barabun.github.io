<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html>
<html epub:prefix="z3998: http://www.daisy.org/z3998/2012/vocab/structure/#" lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
 <head>
  <link href="style.css" rel="stylesheet" type="text/css"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   1
  </title>
 </head>
 <body>
  <div class="navigation">
   <a class="nav-button" href="chapter_004.html">
    ← Previous
   </a>
   <a class="nav-button" href="index.html">
    Table of Contents
   </a>
   <a class="nav-button" href="chapter_006.html">
    Next →
   </a>
  </div>
  <div class="chapter-content">
   <div id="_idContainer036">
    <h1 class="chapter-number" id="_idParaDest-14">
     <a id="_idTextAnchor013">
     </a>
     1
    </h1>
    <h1 id="_idParaDest-15">
     <a id="_idTextAnchor014">
     </a>
     Look-and-Feel Customization with Qt Designer
    </h1>
    <p>
     Qt 6 allows us to easily design our program’s user interface through a method most people are familiar with. Qt not only provides us with a powerful user interface toolkit, called
     <strong class="bold">
      Qt Designer
     </strong>
     , which enables us to design our user interface without writing a single line of code, but it also allows advanced users to customize their user interface components through a simple scripting language called
     <strong class="bold">
      Qt
     </strong>
     <span class="No-Break">
      <strong class="bold">
       Style Sheet
      </strong>
     </span>
     <span class="No-Break">
      .
     </span>
    </p>
    <p>
     In this chapter, we’re going to cover the
     <span class="No-Break">
      following recipes:
     </span>
    </p>
    <ul>
     <li>
      Using style sheets with
      <span class="No-Break">
       Qt Designer
      </span>
     </li>
     <li>
      Customizing basic
      <span class="No-Break">
       style sheets
      </span>
     </li>
     <li>
      Creating a login screen using
      <span class="No-Break">
       style sheets
      </span>
     </li>
     <li>
      Using resources in
      <span class="No-Break">
       style sheets
      </span>
     </li>
     <li>
      Customizing properties
      <span class="No-Break">
       and sub-controls
      </span>
     </li>
     <li>
      Styling in
      <strong class="bold">
       Qt Modeling
      </strong>
      <span class="No-Break">
       <strong class="bold">
        Language
       </strong>
      </span>
      <span class="No-Break">
       (
      </span>
      <span class="No-Break">
       <strong class="bold">
        QML
       </strong>
      </span>
      <span class="No-Break">
       )
      </span>
     </li>
     <li>
      Exposing the QML object pointer
      <span class="No-Break">
       to C++
      </span>
     </li>
    </ul>
    <h1 id="_idParaDest-16">
     <a id="_idTextAnchor015">
     </a>
     Technical requirements
    </h1>
    <p>
     The technical requirements for this chapter include having
     <strong class="bold">
      Qt 6.1.1 MinGW 64-bit
     </strong>
     and
     <strong class="bold">
      Qt Creator 12.0.2
     </strong>
     . The code that’s used in this chapter can be downloaded from this book’s GitHub
     <span class="No-Break">
      repository:
     </span>
     <a href="https://github.com/PacktPublishing/QT6-C-GUI-Programming-Cookbook---Third-Edition-/tree/main/Chapter01">
      <span class="No-Break">
       https://github.com/PacktPublishing/QT6-C-GUI-Programming-Cookbook---Third-Edition-/tree/main/Chapter01
      </span>
     </a>
     <span class="No-Break">
      .
     </span>
    </p>
    <h1 id="_idParaDest-17">
     <a id="_idTextAnchor016">
     </a>
     Using style sheets with Qt Designer
    </h1>
    <p>
     In this example, we will learn how
     <a id="_idIndexMarker000">
     </a>
     to change the look and feel of our program and make it look more professional by using style sheets and resources. Qt allows you to
     <a id="_idIndexMarker001">
     </a>
     decorate your
     <strong class="bold">
      graphical user interfaces
     </strong>
     (
     <strong class="bold">
      GUIs
     </strong>
     ) using a style sheet language called
     <strong class="bold">
      Qt Style Sheets
     </strong>
     , which is
     <a id="_idIndexMarker002">
     </a>
     very similar to
     <strong class="bold">
      Cascading Style Sheets
     </strong>
     (
     <strong class="bold">
      CSS
     </strong>
     ), something that’s used by
     <a id="_idIndexMarker003">
     </a>
     web designers
     <a id="_idIndexMarker004">
     </a>
     to decorate
     <span class="No-Break">
      their websites.
     </span>
    </p>
    <h2 id="_idParaDest-18">
     <a id="_idTextAnchor017">
     </a>
     How to do it...
    </h2>
    <p>
     Let’s get started by learning how to create a new project and get ourselves familiar with
     <span class="No-Break">
      Qt Designer:
     </span>
    </p>
    <ol>
     <li>
      Open up
      <strong class="bold">
       Qt Creator
      </strong>
      and create a new project. If this is the first time you have used Qt Creator, you can either click the big button, which reads
      <strong class="bold">
       Create Project…
      </strong>
      , or simply go to
      <strong class="bold">
       File
      </strong>
      |
      <span class="No-Break">
       <strong class="bold">
        New Project…
       </strong>
      </span>
      <span class="No-Break">
       .
      </span>
     </li>
     <li>
      Select
      <strong class="bold">
       Application (Qt)
      </strong>
      from the
      <strong class="bold">
       Projects
      </strong>
      window and select
      <strong class="bold">
       Qt
      </strong>
      <span class="No-Break">
       <strong class="bold">
        Widgets Application
       </strong>
      </span>
      <span class="No-Break">
       .
      </span>
     </li>
     <li>
      Click the
      <strong class="bold">
       Choose...
      </strong>
      button at the bottom. A window will pop out and ask you to insert the project’s name and
      <span class="No-Break">
       its location.
      </span>
     </li>
     <li>
      Click
      <strong class="bold">
       Next
      </strong>
      several times, then click the
      <strong class="bold">
       Finish
      </strong>
      button to create the project. We will stick with the default settings for now. Once the project has been created, the first thing you will see is a panel with tons of big icons on the left-hand side of the window, which is called the mode selector panel; we will discuss this in more detail in the
      <em class="italic">
       Dissecting Qt
      </em>
      <span class="No-Break">
       <em class="italic">
        Designer
       </em>
      </span>
      <span class="No-Break">
       recipe.
      </span>
     </li>
     <li>
      You will see all your source files listed on the sidebar panel, which is located next to the mode selector panel. This is where you can select which file you want to edit. In this case, this is
      <strong class="source-inline">
       mainwindow.ui
      </strong>
      , because we are about to start designing the
      <span class="No-Break">
       program’s UI.
      </span>
     </li>
     <li>
      Double-click the
      <strong class="source-inline">
       mainwindow.ui
      </strong>
      file; you will see an entirely different interface appear out of nowhere. Qt Creator helped you switch from the script editor to the UI editor (Qt Designer) because it detected the
      <strong class="source-inline">
       .ui
      </strong>
      extension on the file you’re trying
      <span class="No-Break">
       to open.
      </span>
     </li>
     <li>
      You will also notice that the highlighted button on the mode selector panel has changed from
      <strong class="bold">
       Edit
      </strong>
      to
      <strong class="bold">
       Design
      </strong>
      . You can switch back to the script editor or change to any other tools by clicking one of the buttons located in the upper half of the mode
      <span class="No-Break">
       selector panel.
      </span>
     </li>
     <li>
      Let’s go back to Qt Designer and look at the
      <strong class="source-inline">
       mainwindow.ui
      </strong>
      file. This is the main window of our program (as
      <a id="_idIndexMarker005">
      </a>
      the filename implies) and it’s empty by default, without any widget on it. You
      <a id="_idIndexMarker006">
      </a>
      can try to compile and run the program by pressing the
      <strong class="bold">
       Run
      </strong>
      button (the green arrow button) at the bottom of the mode selector panel; you will see an empty window pop up once the compilation
      <span class="No-Break">
       is complete.
      </span>
     </li>
     <li>
      Let’s add a push button to our program’s UI by clicking on the
      <strong class="bold">
       Push Button
      </strong>
      item in the
      <strong class="bold">
       Widget Box
      </strong>
      area (under the
      <strong class="bold">
       Buttons
      </strong>
      category) and dragging it to our main window in the form editor. Keep the push button selected; you will see all the properties of this button inside the
      <strong class="bold">
       Property Editor
      </strong>
      area on the right-hand side of your window. Scroll down to the middle and look for a property called
      <strong class="bold">
       styleSheet
      </strong>
      . This is where you will apply styles to your widget, which may or may not be inherited from its children or grandchildren recursively, depending on how you set your style sheet. Alternatively, you can right-click on any widget in your UI at the form editor and select
      <strong class="bold">
       Change styleSheet...
      </strong>
      from the
      <span class="No-Break">
       pop-up menu.
      </span>
     </li>
     <li>
      You can click on the input field of the
      <strong class="bold">
       styleSheet
      </strong>
      property to directly write the style sheet code, or click on the
      <strong class="bold">
       …
      </strong>
      button beside the input field to open up the
      <strong class="bold">
       Edit Style Sheet
      </strong>
      window, which has a bigger space for writing longer code for style sheets. At the top of the window, you can find several buttons, such as
      <strong class="bold">
       Add Resource
      </strong>
      ,
      <strong class="bold">
       Add Gradient
      </strong>
      ,
      <strong class="bold">
       Add Color
      </strong>
      , and
      <strong class="bold">
       Add Font
      </strong>
      , that can help you kickstart your coding if you can’t remember the properties’ names. Let’s try to do some simple styling with the
      <strong class="bold">
       Edit Style
      </strong>
      <span class="No-Break">
       <strong class="bold">
        Sheet
       </strong>
      </span>
      <span class="No-Break">
       window.
      </span>
     </li>
     <li>
      Click
      <strong class="bold">
       Add Color
      </strong>
      and choose
      <span class="No-Break">
       a color.
      </span>
     </li>
     <li>
      Pick a random color from the color picker window – let’s say, a pure red color. Then,
      <span class="No-Break">
       click
      </span>
      <span class="No-Break">
       <strong class="bold">
        OK
       </strong>
      </span>
      <span class="No-Break">
       .
      </span>
     </li>
     <li>
      A line of code has been added
      <a id="_idIndexMarker007">
      </a>
      to the text field in the
      <strong class="bold">
       Edit Style Sheet
      </strong>
      window, which in my
      <a id="_idIndexMarker008">
      </a>
      case is
      <span class="No-Break">
       as follows:
      </span>
      <pre class="source-code">
color: rgb(255, 0, 0);</pre>
     </li>
     <li>
      Click the
      <strong class="bold">
       OK
      </strong>
      button; the text on your push button should change
      <span class="No-Break">
       to red.
      </span>
     </li>
    </ol>
    <h2 id="_idParaDest-19">
     <a id="_idTextAnchor018">
     </a>
     How it works...
    </h2>
    <p>
     Let’s take a bit of time to get familiar with Qt Designer’s interface before we start learning how to design our
     <span class="No-Break">
      own UI:
     </span>
    </p>
    <div>
     <div class="IMG---Figure" id="_idContainer005">
      <img alt="Figure 1.1 – Overview of Qt Designer’s interface" src="../images\image/B20976_01_001.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.1 – Overview of Qt Designer’s interface
    </p>
    <p>
     The explanation for the preceding screenshot is
     <span class="No-Break">
      as follows:
     </span>
    </p>
    <ol>
     <li>
      <strong class="bold">
       Menu bar
      </strong>
      : The menu bar houses application-specific menus that provide easy access to essential functions, such as creating new projects, saving files, undoing, redoing, copying, and pasting. It also allows you to access development tools that come
      <a id="_idIndexMarker009">
      </a>
      with Qt Creator, such as the compiler, debugger,
      <span class="No-Break">
       and profiler.
      </span>
     </li>
     <li>
      <strong class="bold">
       Widget Box
      </strong>
      : This is
      <a id="_idIndexMarker010">
      </a>
      where you can find all the different types of widgets provided by Qt Designer. You can add a widget to your program’s UI by clicking one of the widgets from the
      <strong class="bold">
       Widget Box
      </strong>
      area and dragging it to the
      <span class="No-Break">
       form editor.
      </span>
     </li>
     <li>
      <strong class="bold">
       Mode selector
      </strong>
      : The mode selector is a side panel that places shortcut buttons for easy access to different tools. You can quickly switch between the script editor and form editor by clicking the
      <strong class="bold">
       Edit
      </strong>
      or
      <strong class="bold">
       Design
      </strong>
      button on the mode selector panel, which is very useful for multitasking. You can also easily navigate to the debugger and profiler tools at the same speed
      <span class="No-Break">
       and manner.
      </span>
     </li>
     <li>
      <strong class="bold">
       Build shortcuts
      </strong>
      : The build shortcuts are located at the bottom of the mode selector panel. You can build, run, and debug your project easily by pressing the shortcut
      <span class="No-Break">
       buttons here.
      </span>
     </li>
     <li>
      <strong class="bold">
       Form editor
      </strong>
      : The form editor is where you edit your program’s UI. You can add different widgets to your program by selecting a widget from the
      <strong class="bold">
       Widget Box
      </strong>
      area and dragging it to the
      <span class="No-Break">
       form editor.
      </span>
     </li>
     <li>
      <strong class="bold">
       Form toolbar
      </strong>
      : From here, you can quickly select a different form to edit. Click the drop-down box located at the top of the
      <strong class="bold">
       Widget Box
      </strong>
      area and select the file you want to open with Qt Designer. Beside the drop-down box are buttons to switch between the different modes of the form editor, and also buttons to change the layout of
      <span class="No-Break">
       your UI.
      </span>
     </li>
     <li>
      <strong class="bold">
       Object Inspector
      </strong>
      : The
      <strong class="bold">
       Object Inspector
      </strong>
      area lists all the widgets within your current
      <strong class="source-inline">
       .ui
      </strong>
      file. All the widgets are arranged according to their parent-child relationship in the hierarchy. You can select a widget from the
      <strong class="bold">
       Object Inspector
      </strong>
      area to display its properties in the
      <strong class="bold">
       Property
      </strong>
      <span class="No-Break">
       <strong class="bold">
        Editor
       </strong>
      </span>
      <span class="No-Break">
       area.
      </span>
     </li>
     <li>
      <strong class="bold">
       Property Editor
      </strong>
      : The
      <strong class="bold">
       Property Editor
      </strong>
      area will display all the properties of the widget you selected from either the
      <strong class="bold">
       Object Inspector
      </strong>
      area or the form
      <span class="No-Break">
       editor window.
      </span>
     </li>
     <li>
      <strong class="bold">
       Action Editor
      </strong>
      and
      <strong class="bold">
       Signals &amp; Slots Editor
      </strong>
      : This window contains two editors:
      <strong class="bold">
       Action Editor
      </strong>
      and
      <strong class="bold">
       Signals &amp; Slots Editor
      </strong>
      . Both can be accessed from the tabs beneath the
      <a id="_idIndexMarker011">
      </a>
      window.
      <strong class="bold">
       Action Editor
      </strong>
      is where you create actions that can be added to a
      <a id="_idIndexMarker012">
      </a>
      menu bar or toolbar in your
      <span class="No-Break">
       program’s UI.
      </span>
     </li>
     <li>
      <strong class="bold">
       Output panes
      </strong>
      : Output panes consist of several different windows that display information and output messages related to script compilation and debugging. You can switch between different output panes by pressing the buttons that carry a number before them, such as
      <strong class="bold">
       1 Issues
      </strong>
      ,
      <strong class="bold">
       2 Search Results
      </strong>
      , or
      <strong class="bold">
       3
      </strong>
      <span class="No-Break">
       <strong class="bold">
        Application Output
       </strong>
      </span>
      <span class="No-Break">
       .
      </span>
     </li>
    </ol>
    <h2 id="_idParaDest-20">
     <a id="_idTextAnchor019">
     </a>
     There’s more...
    </h2>
    <p>
     In this recipe, we discussed how to apply style sheets to Qt widgets through C++ coding. Although that method works well, most of the time, the person who is in charge of designing the program’s UI is not the programmer, but rather a UI designer who specializes in designing user-friendly UI. In this case, it’s better to let the UI designer design the program’s layout and style sheet with a different tool and not mess around with the code. Qt provides an all-in-one editor
     <a id="_idIndexMarker013">
     </a>
     called
     <span class="No-Break">
      <strong class="bold">
       Qt Creator
      </strong>
     </span>
     <span class="No-Break">
      .
     </span>
    </p>
    <p>
     Qt Creator consists of several different tools, such as a script editor, compiler, debugger, profiler, and UI editor. The UI editor, which
     <a id="_idIndexMarker014">
     </a>
     is also called
     <strong class="bold">
      Qt Designer
     </strong>
     , is the perfect tool for designers to design their program’s UI without writing any code. This is because Qt Designer adopted the
     <em class="italic">
      what you see is what you get
     </em>
     approach by providing an accurate visual representation of the final result, which means whatever you design with Qt Designer will turn out the same visually when the program is compiled
     <span class="No-Break">
      and run.
     </span>
    </p>
    <p>
     The similarities between
     <a id="_idIndexMarker015">
     </a>
     Qt Style Sheets and CSS are
     <span class="No-Break">
      as follows:
     </span>
    </p>
    <ul>
     <li>
      This is how a typical piece of CSS
      <span class="No-Break">
       code looks:
      </span>
      <pre class="source-code">
h1 { color: red; background-color: white;}</pre>
     </li>
     <li>
      This is how Qt Style Sheets look, which is almost the same as the
      <span class="No-Break">
       preceding CSS:
      </span>
      <pre class="source-code">
QLineEdit { color: red; background-color: white;}</pre>
     </li>
    </ul>
    <p>
     As you can see, both of them contain a selector and a declaration block. Each declaration contains a property and a value, separated by a colon. In Qt, a style sheet can be applied to a single widget by calling the
     <strong class="source-inline">
      QObject::setStyleSheet()
     </strong>
     function in
     <span class="No-Break">
      C++ code.
     </span>
    </p>
    <p>
     Consider the following,
     <span class="No-Break">
      for example:
     </span>
    </p>
    <pre class="source-code">
myPushButton-&gt;setStyleSheet("color : blue");</pre>
    <p>
     The preceding code will turn the text of a button with the
     <strong class="source-inline">
      myPushButton
     </strong>
     variable name to blue. You can achieve the same result by writing the declaration in the style sheet property field in Qt Designer. We will discuss Qt Designer more in the
     <em class="italic">
      Customizing basic style
     </em>
     <span class="No-Break">
      <em class="italic">
       sheets
      </em>
     </span>
     <span class="No-Break">
      recipe.
     </span>
    </p>
    <p>
     Qt Style Sheets also supports all the different types of selectors defined in the CSS2 standard, including the
     <strong class="bold">
      universal selector
     </strong>
     ,
     <strong class="bold">
      type selector
     </strong>
     ,
     <strong class="bold">
      class selector
     </strong>
     , and
     <strong class="bold">
      ID selector
     </strong>
     , which allows us to apply styling
     <a id="_idIndexMarker016">
     </a>
     to a very specific individual widget or
     <a id="_idIndexMarker017">
     </a>
     group of widgets. For
     <a id="_idIndexMarker018">
     </a>
     instance, if we want to change the background color of a
     <a id="_idIndexMarker019">
     </a>
     specific line-edit widget with the
     <strong class="source-inline">
      usernameEdit
     </strong>
     object name, we can do this by using an ID selector to refer
     <span class="No-Break">
      to it:
     </span>
    </p>
    <p>
     QLineEdit#usernameEdit { background-color:
     <span class="No-Break">
      blue }
     </span>
    </p>
    <p class="callout-heading">
     Note
    </p>
    <p class="callout">
     To learn about all the selectors available in CSS2 (which are also supported by Qt Style Sheets), please refer to this
     <span class="No-Break">
      document:
     </span>
     <a href="http://www.w3.org/TR/REC-CSS2/selector.html">
      <span class="No-Break">
       http://www.w3.org/TR/REC-CSS2/selector.html
      </span>
     </a>
     <span class="No-Break">
      .
     </span>
    </p>
    <h1 id="_idParaDest-21">
     <a id="_idTextAnchor020">
     </a>
     Customizing basic style sheets
    </h1>
    <p>
     In the previous recipe, you
     <a id="_idIndexMarker020">
     </a>
     learned how to apply a style sheet to a widget with Qt Designer. Let’s go crazy and push things further by creating a few other types of widgets and changing their style properties to something bizarre for the sake
     <span class="No-Break">
      of learning.
     </span>
    </p>
    <p>
     This time, however, we will not apply the style to every single widget one by one; instead, we will learn to apply the style sheet to the main window and let it inherit down the hierarchy to all the other widgets so that the style sheet is easier to manage and maintain in the
     <span class="No-Break">
      long run.
     </span>
    </p>
    <h2 id="_idParaDest-22">
     <a id="_idTextAnchor021">
     </a>
     How to do it...
    </h2>
    <p>
     In the following example, we will format different types of widgets on the canvas and add some code to the style sheet to change
     <span class="No-Break">
      its appearance:
     </span>
    </p>
    <ol>
     <li>
      Remove the style sheet from
      <strong class="source-inline">
       PushButton
      </strong>
      by selecting it and clicking the small arrow button beside the
      <strong class="bold">
       styleSheet
      </strong>
      property. This button will revert the property to its default value, which in this case is the empty
      <span class="No-Break">
       style sheet.
      </span>
     </li>
     <li>
      Add a few more widgets to the UI by dragging them one by one from the
      <strong class="bold">
       Widget Box
      </strong>
      area to the form editor. I’ve added a line edit, combo box, horizontal slider, radio button, and a
      <span class="No-Break">
       check box.
      </span>
     </li>
     <li>
      For the sake of simplicity, delete
      <strong class="bold">
       menuBar
      </strong>
      ,
      <strong class="bold">
       mainToolBar
      </strong>
      , and
      <strong class="bold">
       statusBar
      </strong>
      from your UI by selecting them in the
      <strong class="bold">
       Object Inspector
      </strong>
      area, right-clicking, and choosing
      <strong class="bold">
       Remove
      </strong>
      . Now, your UI should look similar
      <span class="No-Break">
       to this:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer006">
      <img alt="Figure 1.2 – Dragging and dropping some widgets onto the form editor" src="../images\image/B20976_01_002.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.2 – Dragging and dropping some widgets onto the form editor
    </p>
    <ol>
     <li value="4">
      Select the main window from
      <a id="_idIndexMarker021">
      </a>
      either the form editor or the
      <strong class="bold">
       Object Inspector
      </strong>
      area, then right-click and choose
      <strong class="bold">
       Change styleSheet...
      </strong>
      to open the
      <strong class="bold">
       Edit Style Sheet
      </strong>
      window. Insert the following into the
      <span class="No-Break">
       style sheet:
      </span>
      <pre class="source-code">
border: 2px solid gray;
border-radius: 10px;
padding: 0 8px;
background: yellow;</pre>
     </li>
     <li>
      You will see a bizarre-looking UI with everything covered in yellow with a thick border. This is because the preceding style sheet does not have a selector, which means the style will apply to the children widgets of the main window down the hierarchy. To change that, let’s try
      <span class="No-Break">
       something different:
      </span>
      <pre class="source-code">
QPushButton {
     border: 2px solid gray;
     border-radius: 10px;
     padding: 0 8px;
     background: yellow;
}</pre>
     </li>
     <li>
      This time, only
      <strong class="bold">
       PushButton
      </strong>
      will get the style described in the preceding code, and all the other widgets will return to the default styling. You can try to add a few more push buttons to your UI; they will all look
      <span class="No-Break">
       the same:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer007">
      <img alt="Figure 1.3 – Changing the push buttons to yellow" src="../images\image/B20976_01_003.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.3 – Changing the push buttons to yellow
    </p>
    <ol>
     <li value="7">
      This happens because we specifically
      <a id="_idIndexMarker022">
      </a>
      tell the selector to apply the style to all the widgets with the
      <strong class="source-inline">
       QPushButton
      </strong>
      class. We can also apply the style to just one of the push buttons by mentioning its name in the style sheet, as shown in the
      <span class="No-Break">
       following code:
      </span>
      <pre class="source-code">
QPushButton#pushButton_3 {
     border: 2px solid gray;
     border-radius: 10px;
     padding: 0 8px;
     background: yellow;
}</pre>
     </li>
     <li>
      Once you understand this method, we can add the following code
      <a id="_idTextAnchor022">
      </a>
      to the
      <span class="No-Break">
       style sheet:
      </span>
      <pre class="source-code">
QPushButton {
     color: red;
     border: 0px;
     padding: 0 8px;
     background: white;
}
QPushButton#pushButton_2 {
     border: 1px solid red;
     border-radius: 10px;
}</pre>
     </li>
     <li>
      This code changes the style of
      <a id="_idIndexMarker023">
      </a>
      all the push buttons, as well as some properties of the
      <strong class="source-inline">
       pushButton_2
      </strong>
      button. We keep the style sheet of
      <strong class="source-inline">
       pushButton_3
      </strong>
      as-is. Now, the buttons will look
      <span class="No-Break">
       like this:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer008">
      <img alt="Figure 1.4 – Applying a different style to each button" src="../images\image/B20976_01_004.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.4 – Applying a different style to each button
    </p>
    <ol>
     <li value="10">
      The first set of style sheets will change all widgets of the
      <strong class="source-inline">
       QPushButton
      </strong>
      type to a white rectangular button with no border and red text. The second set of style sheets only changes the border of a specific
      <strong class="source-inline">
       QPushButton
      </strong>
      widget called
      <strong class="source-inline">
       pushButton_2
      </strong>
      . Notice that the background color and text color of
      <strong class="source-inline">
       pushButton_2
      </strong>
      remain white and red, respectively, because we didn’t override them in the second set of style sheets, hence it will return to the style described in the first set of style sheets since it applies to all the
      <strong class="source-inline">
       QPushButton
      </strong>
      widgets. The text of the third button has also changed to red because we didn’t describe the
      <strong class="bold">
       Color
      </strong>
      property in the third set of
      <span class="No-Break">
       style sheets.
      </span>
     </li>
     <li>
      Create another set of style sheets that use the universal selector by using the
      <span class="No-Break">
       following code:
      </span>
      <pre class="source-code">
* {
     background: qradialgradient(cx: 0.3, cy: -0.4, fx: 0.3, fy: -0.4, radius: 1.35, stop: 0 #fff, stop: 1 #888);
     color: rgb(255, 255, 255);
     border: 1px solid #ffffff;
}</pre>
     </li>
     <li>
      The universal selector will affect all the widgets, regardless of their type. Therefore, the preceding style sheet will apply a nice gradient color to all the widgets’ backgrounds
      <a id="_idIndexMarker024">
      </a>
      and set their text to white with a one-pixel solid outline that is also white. Instead of writing the name of the color (that is, white), we can use the
      <strong class="source-inline">
       rgb
      </strong>
      function (
      <strong class="source-inline">
       rgb(255, 255, 255)
      </strong>
      ) or hex code (
      <strong class="source-inline">
       #ffffff
      </strong>
      ) to describe the
      <span class="No-Break">
       color value.
      </span>
     </li>
     <li>
      As before, the preceding style sheet will not affect the push buttons because we have already given them their own styles, which will override the general style described in the universal selector. Just remember that in Qt, the more specific style will ultimately be used when there is more than one style with an influence on a widget. This is how the UI will
      <span class="No-Break">
       look now:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer009">
      <img alt="Figure 1.5 – Applying a gradient background to all the other widgets" src="../images\image/B20976_01_005.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.5 – Applying a gradient background to all the other widgets
    </p>
    <h2 id="_idParaDest-23">
     <a id="_idTextAnchor023">
     </a>
     How it works…
    </h2>
    <p>
     If you are ever involved in web development using HTML and CSS, Qt’s style sheets work the same way as CSS. Style sheets provide the definitions to describe the presentation of the widgets – what the
     <a id="_idIndexMarker025">
     </a>
     colors are for each element in the widget group, how thick the border should be, and so on. If you specify the name of the widget to the style sheet, it will change the style of the particular
     <strong class="source-inline">
      PushButton
     </strong>
     widget with the name you provide. None of the other widgets will be affected and will remain as the
     <span class="No-Break">
      default style.
     </span>
    </p>
    <p>
     To change the name of a widget, select the widget from either the form editor or the
     <strong class="bold">
      Object Inspector
     </strong>
     area and change the
     <strong class="bold">
      objectName
     </strong>
     property in the property window. If you used the ID selector previously to change the style of the widget, changing its object name will break the style sheet and lose the style. To fix this problem, simply change the object name in the style sheet
     <span class="No-Break">
      as well.
     </span>
    </p>
    <h1 id="_idParaDest-24">
     <a id="_idTextAnchor024">
     </a>
     Creating a login screen using style sheets
    </h1>
    <p>
     Next, we will learn how to put all the
     <a id="_idIndexMarker026">
     </a>
     knowledge we learned in the previous
     <a id="_idIndexMarker027">
     </a>
     recipe together and create a fake graphical login screen for an imaginary operating system. Style sheets are not the only thing you need to master to design a good UI. You will also need to learn how to arrange the widgets neatly using the layout system in
     <span class="No-Break">
      Qt Designer.
     </span>
    </p>
    <h2 id="_idParaDest-25">
     <a id="_idTextAnchor025">
     </a>
     How to do it...
    </h2>
    <p>
     Let’s get started by following
     <span class="No-Break">
      these steps:
     </span>
    </p>
    <ol>
     <li>
      We need to design the layout of the graphical login screen before we start doing anything. Planning is very
      <a id="_idIndexMarker028">
      </a>
      important to produce good software. The
      <a id="_idIndexMarker029">
      </a>
      following is a sample layout design I made to show you how I imagine the login screen will look. Just a simple line drawing like this is sufficient, so long as it conveys the
      <span class="No-Break">
       message clearly:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer010">
      <img alt="Figure 1.6 – A simple drawing depicting the login screen" src="../images\image/B20976_01_006.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.6 – A simple drawing depicting the login screen
    </p>
    <ol>
     <li value="2">
      Go back to Qt
      <span class="No-Break">
       Designer again.
      </span>
     </li>
     <li>
      We will be placing the widgets at the top panel first, then the logo and the login form
      <span class="No-Break">
       beneath it.
      </span>
     </li>
     <li>
      Select the main window and change its width and height from
      <strong class="source-inline">
       400
      </strong>
      and
      <strong class="source-inline">
       300
      </strong>
      to
      <strong class="source-inline">
       800
      </strong>
      and
      <strong class="source-inline">
       600
      </strong>
      , respectively – we’ll
      <a id="_idIndexMarker030">
      </a>
      need a bigger space in which to place all
      <span class="No-Break">
       the widgets.
      </span>
     </li>
     <li>
      Click and drag a label
      <a id="_idIndexMarker031">
      </a>
      under the
      <strong class="bold">
       Display Widgets
      </strong>
      category from the
      <strong class="bold">
       Widget Box
      </strong>
      area to the
      <span class="No-Break">
       form editor.
      </span>
     </li>
     <li>
      Change the
      <strong class="bold">
       objectName
      </strong>
      property of the label to
      <strong class="source-inline">
       currentDateTime
      </strong>
      and change its text property to the current date and time for display purposes – for example,
      <strong class="source-inline">
       Wednesday, 25-10-2023
      </strong>
      <span class="No-Break">
       <strong class="source-inline">
        3:14 PM
       </strong>
      </span>
      <span class="No-Break">
       .
      </span>
     </li>
     <li>
      Click and drag
      <strong class="source-inline">
       PushButton
      </strong>
      under the
      <strong class="bold">
       Buttons
      </strong>
      category to the form editor. Repeat this process once more because we have two buttons on the top panel. Rename the two buttons
      <strong class="source-inline">
       restartButton
      </strong>
      <span class="No-Break">
       and
      </span>
      <span class="No-Break">
       <strong class="source-inline">
        shutdownButton
       </strong>
      </span>
      <span class="No-Break">
       .
      </span>
     </li>
     <li>
      Select the main window and click the small icon button on the form toolbar that says
      <strong class="bold">
       Lay Out Vertically
      </strong>
      when you mouse over it. You will see that the widgets are automatically arranged on the main window, but that’s not exactly what we
      <span class="No-Break">
       want yet.
      </span>
     </li>
     <li>
      Click and drag a
      <strong class="bold">
       Horizontal Layout
      </strong>
      widget under the
      <strong class="bold">
       Layouts
      </strong>
      category to the
      <span class="No-Break">
       main window.
      </span>
     </li>
     <li>
      Click and drag the two push buttons and the text label into the horizontal layout. You will see the three widgets being arranged in a horizontal row, but vertically, they are located in the middle of the screen. The horizontal arrangement is almost correct, but the vertical position
      <span class="No-Break">
       is off.
      </span>
     </li>
     <li>
      Click and drag a
      <strong class="bold">
       Vertical Spacer
      </strong>
      widget from the
      <strong class="bold">
       Spacers
      </strong>
      category and place it beneath the
      <strong class="bold">
       Horizontal Layout
      </strong>
      widget we created in
      <em class="italic">
       Step 9
      </em>
      (under the red rectangular outline). All the widgets will be pushed to the top by
      <span class="No-Break">
       the spacer.
      </span>
     </li>
     <li>
      Place a
      <strong class="bold">
       Horizontal Spacer
      </strong>
      widget between the text label and the two buttons to keep them apart. This will ensure the text label always sticks to the left and the buttons align to
      <span class="No-Break">
       the right.
      </span>
     </li>
     <li>
      Set both the
      <strong class="bold">
       Horizontal Policy
      </strong>
      and
      <strong class="bold">
       Vertical Policy
      </strong>
      properties of the two buttons to
      <strong class="bold">
       Fixed
      </strong>
      and set the
      <strong class="bold">
       minimumSize
      </strong>
      property to
      <strong class="source-inline">
       55 x 55
      </strong>
      . Set the
      <strong class="bold">
       text
      </strong>
      property of the buttons to
      <a id="_idIndexMarker032">
      </a>
      empty, as we will be using icons instead of text. We will learn how to
      <a id="_idIndexMarker033">
      </a>
      place an icon in the button widgets in the
      <em class="italic">
       Using resources in style
      </em>
      <span class="No-Break">
       <em class="italic">
        sheets
       </em>
      </span>
      <span class="No-Break">
       recipe.
      </span>
     </li>
     <li>
      Your UI should look similar
      <span class="No-Break">
       to this:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer011">
      <img alt="Figure 1.7 – Pushing apart the text and buttons using a horizontal spacer" src="../images\image/B20976_01_007.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.7 – Pushing apart the text and buttons using a horizontal spacer
    </p>
    <p>
     Next, we will be adding the logo. Follow
     <span class="No-Break">
      these steps:
     </span>
    </p>
    <ol>
     <li>
      Add a
      <strong class="bold">
       Horizontal Layout
      </strong>
      widget between the top panel and a
      <strong class="bold">
       Vertical Spacer
      </strong>
      widget to serve as a container for
      <span class="No-Break">
       the logo.
      </span>
     </li>
     <li>
      After adding the
      <strong class="bold">
       Horizontal Layout
      </strong>
      widget, you will find that the layout is way too thin in height (almost zero height) for you to add any widgets to it. This is because the layout is empty and it’s being pushed by the vertical spacer under it into zero height. To solve this problem, we
      <a id="_idIndexMarker034">
      </a>
      can set its
      <strong class="bold">
       vertical margin
      </strong>
      (either
      <strong class="bold">
       layoutTopMargin
      </strong>
      or
      <strong class="bold">
       layoutBottomMargin
      </strong>
      ) to be temporarily bigger until a widget is added to
      <span class="No-Break">
       the layout.
      </span>
     </li>
     <li>
      Add a
      <strong class="bold">
       Label
      </strong>
      value to the
      <strong class="bold">
       Horizontal Layout
      </strong>
      widget that you just created and rename it
      <strong class="source-inline">
       logo
      </strong>
      . We will learn more about how to insert an image into the label to use it as a logo in the
      <em class="italic">
       Using resources in style sheets
      </em>
      recipe. For now, just empty out the
      <strong class="bold">
       text
      </strong>
      property and set both its
      <strong class="bold">
       Horizontal Policy
      </strong>
      and
      <strong class="bold">
       Vertical Policy
      </strong>
      properties to
      <strong class="bold">
       Fixed
      </strong>
      . Set the
      <strong class="bold">
       minimumSize
      </strong>
      property to
      <strong class="source-inline">
       150
      </strong>
      <span class="No-Break">
       <strong class="source-inline">
        x 150
       </strong>
      </span>
      <span class="No-Break">
       .
      </span>
     </li>
     <li>
      Set the vertical margin
      <a id="_idIndexMarker035">
      </a>
      of the layout back to zero if you haven’t already
      <span class="No-Break">
       done so.
      </span>
     </li>
     <li>
      The logo will now appear to
      <a id="_idIndexMarker036">
      </a>
      be invisible, so we will just place a temporary style sheet to make it visible until we add an image to it in the
      <em class="italic">
       Using resources in style sheets
      </em>
      recipe. The style sheet is
      <span class="No-Break">
       really simple:
      </span>
      <pre class="source-code">
border: 1px solid;</pre>
      <p class="list-inset">
       Your UI should look similar
       <span class="No-Break">
        to this:
       </span>
      </p>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer012">
      <img alt="Figure 1.8 – Putting the placeholder logo in the middle" src="../images\image/B20976_01_008.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.8 – Putting the placeholder logo in the middle
    </p>
    <p>
     Now, let’s create the
     <span class="No-Break">
      login form:
     </span>
    </p>
    <ol>
     <li>
      Add a
      <strong class="bold">
       Horizontal Layout
      </strong>
      widget between the logo’s layout and the
      <strong class="bold">
       Vertical Spacer
      </strong>
      widget. Set the
      <strong class="bold">
       layoutTopMargin
      </strong>
      property to a large number (that is,
      <strong class="source-inline">
       100
      </strong>
      ) so that you can add a widget to it
      <span class="No-Break">
       more easily.
      </span>
     </li>
     <li>
      Add a
      <strong class="bold">
       Vertical Layout
      </strong>
      widget inside the
      <strong class="bold">
       Horizontal Layout
      </strong>
      widget you just created. This layout will be used as a container for the login form. Set its
      <strong class="bold">
       layoutTopMargin
      </strong>
      property to a number lower than that of the horizontal layout (that is,
      <strong class="source-inline">
       20
      </strong>
      ) so that we can place widgets
      <span class="No-Break">
       in it.
      </span>
     </li>
     <li>
      Right-click the
      <strong class="bold">
       Vertical Layout
      </strong>
      widget you just created and choose
      <strong class="bold">
       Morph into
      </strong>
      |
      <strong class="bold">
       QWidget
      </strong>
      . Here,
      <strong class="bold">
       Vertical Layout
      </strong>
      is converted into an empty widget. This step is essential because we will be adjusting the width and height of the container for the login form. A layout widget does not contain any properties for width and height, only margins, since a layout will expand toward the space surrounding it. This makes
      <a id="_idIndexMarker037">
      </a>
      sense considering that it does not have any size properties. Once you have converted the layout into a
      <strong class="source-inline">
       QWidget
      </strong>
      object, it will automatically inherit all the
      <a id="_idIndexMarker038">
      </a>
      properties from the widget class, which means we can now adjust its size to suit
      <span class="No-Break">
       our needs.
      </span>
     </li>
     <li>
      Rename the
      <strong class="source-inline">
       QWidget
      </strong>
      object, which we just converted from the layout,
      <strong class="source-inline">
       loginForm
      </strong>
      and change both its
      <strong class="bold">
       Horizontal Policy
      </strong>
      and
      <strong class="bold">
       Vertical Policy
      </strong>
      properties to
      <strong class="bold">
       Fixed
      </strong>
      . Set the
      <strong class="bold">
       minimumSize
      </strong>
      parameter to
      <strong class="source-inline">
       350
      </strong>
      <span class="No-Break">
       <strong class="source-inline">
        x 200
       </strong>
      </span>
      <span class="No-Break">
       .
      </span>
     </li>
     <li>
      Since we already placed the
      <strong class="source-inline">
       loginForm
      </strong>
      widget inside
      <strong class="bold">
       Horizontal Layout
      </strong>
      , we can set its
      <strong class="bold">
       layoutTopMargin
      </strong>
      property back
      <span class="No-Break">
       to zero.
      </span>
     </li>
     <li>
      Add the same style sheet that you did for the logo to the
      <strong class="source-inline">
       loginForm
      </strong>
      widget to make it visible temporarily. However, this time, we need to add an ID selector in front so that it will only apply the style to
      <strong class="source-inline">
       loginForm
      </strong>
      and not its
      <span class="No-Break">
       children widgets:
      </span>
      <pre class="source-code">
#loginForm { border: 1px solid; }</pre>
      <p class="list-inset">
       Your UI should look something
       <span class="No-Break">
        like this:
       </span>
      </p>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer013">
      <img alt="Figure 1.9 – Constructing the frame for the login form" src="../images\image/B20976_01_009.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.9 – Constructing the frame for the login form
    </p>
    <p>
     We are not done with the login form yet. Now that we have created the container for the login form, it’s time to put more widgets into
     <span class="No-Break">
      the form:
     </span>
    </p>
    <ol>
     <li>
      Place two horizontal layouts
      <a id="_idIndexMarker039">
      </a>
      in the login form container. We need two layouts: one for the username field
      <a id="_idIndexMarker040">
      </a>
      and another for the
      <span class="No-Break">
       password field.
      </span>
     </li>
     <li>
      Add
      <strong class="bold">
       Label
      </strong>
      and
      <strong class="bold">
       Line Edit
      </strong>
      properties to each of the layouts you just added. Change the
      <strong class="bold">
       text
      </strong>
      property of the upper label to
      <strong class="source-inline">
       Username:
      </strong>
      and the one beneath to
      <strong class="source-inline">
       Password:
      </strong>
      . Rename the two line edits to
      <strong class="source-inline">
       username
      </strong>
      and
      <span class="No-Break">
       <strong class="source-inline">
        password
       </strong>
      </span>
      <span class="No-Break">
       , respectively.
      </span>
     </li>
     <li>
      Add a push button beneath the password layout and change its
      <strong class="bold">
       text
      </strong>
      property to
      <strong class="source-inline">
       Login
      </strong>
      . Rename
      <span class="No-Break">
       it
      </span>
      <span class="No-Break">
       <strong class="source-inline">
        loginButton
       </strong>
      </span>
      <span class="No-Break">
       .
      </span>
     </li>
     <li>
      You can add a
      <strong class="bold">
       Vertical Spacer
      </strong>
      widget between the password layout and the
      <strong class="source-inline">
       Login
      </strong>
      button to distance them slightly. After the
      <strong class="bold">
       Vertical Spacer
      </strong>
      widget has been placed, change its
      <strong class="bold">
       sizeType
      </strong>
      property to
      <strong class="bold">
       Fixed
      </strong>
      and change its
      <strong class="bold">
       Height
      </strong>
      property
      <span class="No-Break">
       to
      </span>
      <span class="No-Break">
       <strong class="source-inline">
        5
       </strong>
      </span>
      <span class="No-Break">
       .
      </span>
     </li>
     <li>
      Select the
      <strong class="source-inline">
       loginForm
      </strong>
      container and set all its margins to
      <strong class="source-inline">
       35
      </strong>
      . This is to make the login form look better
      <a id="_idIndexMarker041">
      </a>
      by adding some space to all
      <span class="No-Break">
       its sides.
      </span>
     </li>
     <li>
      Set the
      <strong class="bold">
       Height
      </strong>
      property of the
      <strong class="source-inline">
       Username
      </strong>
      ,
      <strong class="source-inline">
       Password
      </strong>
      , and
      <strong class="source-inline">
       loginButton
      </strong>
      widgets to
      <strong class="source-inline">
       25
      </strong>
      so that they
      <a id="_idIndexMarker042">
      </a>
      don’t look
      <span class="No-Break">
       so cramped.
      </span>
      <p class="list-inset">
       Your UI should look something
       <span class="No-Break">
        like this:
       </span>
      </p>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer014">
      <img alt="Figure 1.10 – Adding widgets to the login form" src="../images\image/B20976_01_010.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.10 – Adding widgets to the login form
    </p>
    <p class="callout-heading">
     Note
    </p>
    <p class="callout">
     Alternatively, you can use a grid layout for the
     <strong class="bold">
      Username
     </strong>
     and
     <strong class="bold">
      Password
     </strong>
     fields to keep their
     <span class="No-Break">
      sizes uniform.
     </span>
    </p>
    <p>
     We’re not done yet! As you can see, the login form and the logo are both sticking to the top of the main window due
     <a id="_idIndexMarker043">
     </a>
     to the
     <strong class="bold">
      Vertical Spacer
     </strong>
     widget beneath
     <a id="_idIndexMarker044">
     </a>
     them. The logo and the login form should be placed at the center of the main window instead of the top. To fix this problem, follow
     <span class="No-Break">
      these steps:
     </span>
    </p>
    <ol>
     <li>
      Add another
      <strong class="bold">
       Vertical Spacer
      </strong>
      widget between the top panel and the logo’s layout. This will counter the spacer at the bottom to balance out
      <span class="No-Break">
       the alignment.
      </span>
     </li>
     <li>
      If you think that the logo is sticking too close to the login form, you can add a
      <strong class="bold">
       Vertical Spacer
      </strong>
      widget between the logo’s layout and the login form’s layout. Set its
      <strong class="bold">
       sizeType
      </strong>
      property to
      <strong class="bold">
       Fixed
      </strong>
      and its
      <strong class="bold">
       Height
      </strong>
      property
      <span class="No-Break">
       to
      </span>
      <span class="No-Break">
       <strong class="source-inline">
        10
       </strong>
      </span>
      <span class="No-Break">
       .
      </span>
     </li>
     <li>
      Right-click the top panel’s layout and choose
      <strong class="bold">
       Morph into
      </strong>
      |
      <strong class="bold">
       QWidget
      </strong>
      . Rename it
      <strong class="source-inline">
       topPanel
      </strong>
      . The layout must be converted into
      <strong class="bold">
       QWidget
      </strong>
      because we cannot apply style sheets to a layout. This is because a layout doesn’t have any properties other
      <span class="No-Break">
       than margins.
      </span>
     </li>
     <li>
      There is a little bit of a margin around the edges of the main window – we don’t want that. To remove the margins, select the
      <strong class="bold">
       centralWidget
      </strong>
      object from the
      <strong class="bold">
       Object Inspector
      </strong>
      window, which is right under the
      <strong class="bold">
       MainWindow
      </strong>
      panel, and set all the margin values
      <span class="No-Break">
       to zero.
      </span>
     </li>
     <li>
      Run the project by clicking the
      <strong class="bold">
       Run
      </strong>
      button (with the green arrow icon) to see what your program looks like. If everything goes well, you should see something
      <span class="No-Break">
       like this:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer015">
      <img alt="Figure 1.11 – We’re done with the layout – for now" src="../images\image/B20976_01_011.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.11 – We’re done with the layout – for now
    </p>
    <ol>
     <li value="6">
      Now, let’s decorate the UI
      <a id="_idIndexMarker045">
      </a>
      using style sheets! Since all the important widgets have been given object names, it’s easier for us to apply the style sheets to them from the main window since we will only write the style sheets to the main window and let them
      <a id="_idIndexMarker046">
      </a>
      inherit down the
      <span class="No-Break">
       hierarchy tree.
      </span>
     </li>
     <li>
      Right-click on
      <strong class="bold">
       MainWindow
      </strong>
      from the
      <strong class="bold">
       Object Inspector
      </strong>
      area and choose
      <span class="No-Break">
       <strong class="bold">
        Change styleSheet...
       </strong>
      </span>
      <span class="No-Break">
       .
      </span>
     </li>
     <li>
      Add the following code to the
      <span class="No-Break">
       style sheet:
      </span>
      <pre class="source-code">
#centralWidget { background: rgba(32, 80, 96, 100); }</pre>
     </li>
     <li>
      The background of the main window will change color. We will learn how to use an image for the background in the
      <em class="italic">
       Using resources in style sheets
      </em>
      recipe. So, the color is
      <span class="No-Break">
       just temporary.
      </span>
     </li>
     <li>
      In Qt, if you want to apply styles to the main window itself, you must apply them to its
      <strong class="bold">
       centralWidget
      </strong>
      widget instead of the main window since the window is just
      <span class="No-Break">
       a container.
      </span>
     </li>
     <li>
      Add a nice gradient color to the
      <span class="No-Break">
       top panel:
      </span>
      <pre class="source-code">
#topPanel {
     background-color: qlineargradient(spread:reflect, x1:0.5, y1:0, x2:0, y2:0, stop:0 rgba(91, 204, 233, 100), stop:1 rgba(32, 80, 96, 100));
}</pre>
     </li>
     <li>
      Apply the black color to the login form and make it look semi-transparent. We will also make the corners
      <a id="_idIndexMarker047">
      </a>
      of the login form container slightly rounded by setting the
      <span class="No-Break">
       <strong class="source-inline">
        border-radius
       </strong>
      </span>
      <span class="No-Break">
       property:
      </span>
      <pre class="source-code">
#loginForm {
     background: rgba(0, 0, 0, 80);
     border-radius: 8px;
}</pre>
     </li>
     <li>
      Apply styles to the
      <a id="_idIndexMarker048">
      </a>
      general types
      <span class="No-Break">
       of widgets:
      </span>
      <pre class="source-code">
QLabel { color: white; }
QLineEdit { border-radius: 3px; }</pre>
     </li>
     <li>
      The preceding style sheets will change all the labels’ texts to a white color; this includes the text on the widgets as well because, internally, Qt uses the same type of label on the widgets that have text on them. Also, we made the corners of the line edit widgets
      <span class="No-Break">
       slightly rounded.
      </span>
     </li>
     <li>
      Apply style sheets to all the push buttons on
      <span class="No-Break">
       our UI:
      </span>
      <pre class="source-code">
QPushButton {
     color: white;
     background-color: #27a9e3;
     border-width: 0px;
     border-radius: 3px;
}</pre>
     </li>
     <li>
      The preceding style sheet changes the text of all the buttons to a white color, then sets its background color to blue, and makes its corners
      <span class="No-Break">
       slightly rounded.
      </span>
     </li>
     <li>
      To push things even further, we will make it so that the color of the push buttons changes when we
      <a id="_idIndexMarker049">
      </a>
      mouse over it by using the
      <span class="No-Break">
       <strong class="source-inline">
        hover
       </strong>
      </span>
      <span class="No-Break">
       keyword:
      </span>
      <pre class="source-code">
QPushButton:hover { background-color: #66c011; }</pre>
     </li>
     <li>
      The preceding style sheet will change the background color of the push buttons to green when we mouse
      <a id="_idIndexMarker050">
      </a>
      over them. We will talk more about this in the
      <em class="italic">
       Customizing properties and
      </em>
      <span class="No-Break">
       <em class="italic">
        sub-controls
       </em>
      </span>
      <span class="No-Break">
       recipe.
      </span>
     </li>
     <li>
      You can further adjust the size and margins of the widgets to make them look even better. Remember to remove the border line of the login form by removing the style sheet that we applied directly to it in
      <span class="No-Break">
       <em class="italic">
        step 6
       </em>
      </span>
      <span class="No-Break">
       .
      </span>
     </li>
     <li>
      Your login screen should look something
      <span class="No-Break">
       like this:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer016">
      <img alt="Figure 1.12 – Applying colors and styles to the widgets" src="../images\image/B20976_01_012.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.12 – Applying colors and styles to the widgets
    </p>
    <h2 id="_idParaDest-26">
     <a id="_idTextAnchor026">
     </a>
     How it works…
    </h2>
    <p>
     This example focused more on the layout system of Qt. Qt’s layout system allows our application GUI to automatically
     <a id="_idIndexMarker051">
     </a>
     arrange itself within the given space by arranging the children objects of each widget. The spacer items that we used in this recipe
     <a id="_idIndexMarker052">
     </a>
     help push the widgets contained in a layout outward to create spacing along the width of the
     <span class="No-Break">
      spacer item.
     </span>
    </p>
    <p>
     To locate a widget in the middle of the layout, we must put two spacer items into the layout: one on the left-hand side of the widget and one on the right-hand side of the widget. The widget will then be pushed to the middle of the layout by the
     <span class="No-Break">
      two spacers.
     </span>
    </p>
    <h1 id="_idParaDest-27">
     <a id="_idTextAnchor027">
     </a>
     Using resources in style sheets
    </h1>
    <p>
     Qt provides us with
     <a id="_idIndexMarker053">
     </a>
     a platform-independent resource system that allows us to store any type of file in our program’s executable for later use. There is no limit to the
     <a id="_idIndexMarker054">
     </a>
     types of files we can store in our executable – images, audio, video, HTML, XML, text files, binary files, and so on are
     <span class="No-Break">
      all permitted.
     </span>
    </p>
    <p>
     The resource system is really useful for embedding resource files (such as icons and translation files) into the executable so that it can be accessed by the application at any time. To achieve this, we must tell Qt which files we want to add to its resource system in the
     <strong class="source-inline">
      .qrc
     </strong>
     file; Qt will handle the rest during the
     <span class="No-Break">
      build process.
     </span>
    </p>
    <h2 id="_idParaDest-28">
     <a id="_idTextAnchor028">
     </a>
     How to do it…
    </h2>
    <p>
     To add a new
     <strong class="source-inline">
      .qrc
     </strong>
     file to our project, go to
     <strong class="bold">
      File
     </strong>
     |
     <strong class="bold">
      New File
     </strong>
     . Then, select
     <strong class="bold">
      Qt
     </strong>
     under the
     <strong class="bold">
      Files and Classes
     </strong>
     category and select
     <strong class="bold">
      Qt Resources File
     </strong>
     . After that, give it a name (that is,
     <strong class="source-inline">
      resources
     </strong>
     ) and click the
     <strong class="bold">
      Next
     </strong>
     button, followed by the
     <strong class="bold">
      Finish
     </strong>
     button. The
     <strong class="source-inline">
      .qrc
     </strong>
     file will now be created and automatically opened by Qt Creator. You don’t have to edit the
     <strong class="source-inline">
      .qrc
     </strong>
     file directly in XML format as Qt Creator provides you with the user interface to manage
     <span class="No-Break">
      your resources.
     </span>
    </p>
    <p>
     To add images and icons to your project, you need to make sure that the images and icons are being placed in your project’s directory. While the
     <strong class="source-inline">
      .qrc
     </strong>
     file is opened in Qt Creator, click the
     <strong class="bold">
      Add
     </strong>
     button, followed by the
     <strong class="bold">
      Add Prefix
     </strong>
     button. The prefix is used to categorize your resources so that they can be better managed when you have a ton of resources in
     <span class="No-Break">
      your project:
     </span>
    </p>
    <ol>
     <li>
      Rename the prefix you just created
      <span class="No-Break">
       to
      </span>
      <span class="No-Break">
       <strong class="source-inline">
        /icons
       </strong>
      </span>
      <span class="No-Break">
       .
      </span>
     </li>
     <li>
      Create another prefix by clicking
      <strong class="bold">
       Add
      </strong>
      , followed by
      <span class="No-Break">
       <strong class="bold">
        Add Prefix
       </strong>
      </span>
      <span class="No-Break">
       .
      </span>
     </li>
     <li>
      Rename the new
      <span class="No-Break">
       prefix
      </span>
      <span class="No-Break">
       <strong class="source-inline">
        /images
       </strong>
      </span>
      <span class="No-Break">
       .
      </span>
     </li>
     <li>
      Select the
      <strong class="source-inline">
       /icon
      </strong>
      prefix and click
      <strong class="bold">
       Add
      </strong>
      , followed by
      <span class="No-Break">
       <strong class="bold">
        Add Files
       </strong>
      </span>
      <span class="No-Break">
       .
      </span>
     </li>
     <li>
      A file selection window will appear; use that to select all the icon files. You can select multiple files at a time by holding the
      <em class="italic">
       Ctrl
      </em>
      key on your keyboard while clicking on the files to select them. Click
      <strong class="bold">
       Open
      </strong>
      once
      <span class="No-Break">
       you’re done.
      </span>
     </li>
     <li>
      Select the
      <strong class="source-inline">
       /images
      </strong>
      prefix and click the
      <strong class="bold">
       Add
      </strong>
      button, followed by the
      <strong class="bold">
       Add Files
      </strong>
      button. The file-selection
      <a id="_idIndexMarker055">
      </a>
      window will pop up again; this time, we will select the
      <span class="No-Break">
       background image.
      </span>
     </li>
     <li>
      Repeat the preceding
      <a id="_idIndexMarker056">
      </a>
      steps, but this time, we will add the logo image to the
      <strong class="source-inline">
       /images
      </strong>
      prefix. Don’t forget to save once you’re done by pressing
      <em class="italic">
       Ctrl
      </em>
      +
      <em class="italic">
       S
      </em>
      . Your
      <strong class="source-inline">
       .qrc
      </strong>
      file should now look
      <span class="No-Break">
       like this:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer017">
      <img alt="Figure 1.13 – Showing the structure of the resource file" src="../images\image/B20976_01_013.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.13 – Showing the structure of the resource file
    </p>
    <ol>
     <li value="8">
      Go back to the
      <strong class="source-inline">
       mainwindow.ui
      </strong>
      file; let’s make use of the resources we have just added to our project. Select the restart button located on the top panel. Scroll down the
      <strong class="bold">
       Property Editor
      </strong>
      area until you see the
      <strong class="bold">
       icon
      </strong>
      property. Click the little button with a drop-down arrow icon and click
      <strong class="bold">
       Choose Resources
      </strong>
      from
      <span class="No-Break">
       its menu.
      </span>
     </li>
     <li>
      The
      <strong class="bold">
       Select Resource
      </strong>
      window will pop up. Click on the icons prefix on the left panel and select the restart icon on the right panel.
      <span class="No-Break">
       Press
      </span>
      <span class="No-Break">
       <strong class="bold">
        OK
       </strong>
      </span>
      <span class="No-Break">
       .
      </span>
     </li>
     <li>
      A tiny icon will appear on the button. This icon looks very tiny because the default icon size is set to
      <strong class="source-inline">
       16 x 16
      </strong>
      . Change the
      <strong class="bold">
       iconSize
      </strong>
      property to
      <strong class="source-inline">
       50 x 50
      </strong>
      ; you will see that the icon appears bigger. Repeat the preceding steps for the shutdown button, except this time, choose the shutdown
      <span class="No-Break">
       icon instead.
      </span>
     </li>
     <li>
      The two buttons should now look
      <span class="No-Break">
       like this:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer018">
      <img alt="Figure 1.14 – Applying icons to the push buttons" src="../images\image/B20976_01_014.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.14 – Applying icons to the push buttons
    </p>
    <ol>
     <li value="12">
      Let’s use the image we
      <a id="_idIndexMarker057">
      </a>
      added to the resource file as our logo. Select
      <a id="_idIndexMarker058">
      </a>
      the logo widget and remove the style sheet that we added earlier to render
      <span class="No-Break">
       its outline.
      </span>
     </li>
     <li>
      Scroll down the
      <strong class="bold">
       Property Editor
      </strong>
      area until you see the
      <span class="No-Break">
       <strong class="bold">
        pixmap
       </strong>
      </span>
      <span class="No-Break">
       property.
      </span>
     </li>
     <li>
      Click the little drop-down button behind the
      <strong class="bold">
       pixmap
      </strong>
      property and select
      <strong class="bold">
       Choose Resources
      </strong>
      from the menu. Select the logo image and click
      <strong class="bold">
       OK
      </strong>
      . The logo size no longer follows the dimension you set previously; it follows the actual dimension of the image instead. We cannot change its dimension because this is simply how the
      <strong class="bold">
       pixmap
      </strong>
      <span class="No-Break">
       property works.
      </span>
     </li>
     <li>
      If you want more control over the logo’s dimension, you can remove the image from the
      <strong class="bold">
       pixmap
      </strong>
      property and use a style sheet instead. You can use the following code to apply an image to the
      <span class="No-Break">
       icon container:
      </span>
      <pre class="source-code">
border-image: url(:/images/logo.png);</pre>
     </li>
     <li>
      To obtain the path of the image, right-click the image’s name in the file list window and choose
      <strong class="bold">
       Copy path
      </strong>
      . The path will be saved to your operating system’s clipboard; now, you can just paste it into the preceding style sheet. Using this method will ensure that the image fits the dimensions of the widget that you applied the style to. Your logo should now appear like what’s shown in the
      <span class="No-Break">
       following screenshot:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer019">
      <img alt="Figure 1.15 – The logo is now appearing at the top of the login form" src="../images\image/B20976_01_015.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.15 – The logo is now appearing at the top of the login form
    </p>
    <ol>
     <li value="17">
      Apply the wallpaper image to the background using a style sheet. Since the background dimension will change
      <a id="_idIndexMarker059">
      </a>
      according to the window size, we cannot use
      <strong class="bold">
       pixmap
      </strong>
      here. Instead, we
      <a id="_idIndexMarker060">
      </a>
      will use the
      <strong class="source-inline">
       border-image
      </strong>
      property in a style sheet. Right-click the main window and select
      <strong class="bold">
       Change styleSheet...
      </strong>
      to open the
      <strong class="bold">
       Edit Style Sheet
      </strong>
      window. We will add a new line under the style sheet of the
      <span class="No-Break">
       <strong class="bold">
        centralWidget
       </strong>
      </span>
      <span class="No-Break">
       widget:
      </span>
      <pre class="source-code">
#centralWidget {
     background: rgba(32, 80, 96, 100);
     border-image: url(:/images/login_bg.png);
}</pre>
     </li>
     <li>
      It’s really that simple and easy! Your login screen should now look
      <span class="No-Break">
       like this:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer020">
      <img alt="Figure 1.16 – The final result looks neat" src="../images\image/B20976_01_016.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.16 – The final result looks neat
    </p>
    <h2 id="_idParaDest-29">
     <a id="_idTextAnchor029">
     </a>
     How it works…
    </h2>
    <p>
     The resource system in Qt stores binary files, such as images and translation files, in the executable when it gets compiled. It reads the
     <strong class="bold">
      resource collection files
     </strong>
     (
     <strong class="source-inline">
      .qrc
     </strong>
     ) in your project to
     <a id="_idIndexMarker061">
     </a>
     locate the files that need to be stored in the executable and include them
     <a id="_idIndexMarker062">
     </a>
     in the build process. A
     <strong class="source-inline">
      .qrc
     </strong>
     file looks something
     <span class="No-Break">
      like this:
     </span>
    </p>
    <pre class="source-code">
&lt;!DOCTYPE RCC&gt;
&lt;RCC version="1.0"&gt;
     &lt;qresource&gt;
           &lt;file&gt;images/copy.png&lt;/file&gt;
           &lt;file&gt;images/cut.png&lt;/file&gt;
           &lt;file&gt;images/new.png&lt;/file&gt;
           &lt;file&gt;images/open.png&lt;/file&gt;
           &lt;file&gt;images/paste.png&lt;/file&gt;
           &lt;file&gt;images/save.png&lt;/file&gt;
     &lt;/qresource&gt;
&lt;/RCC&gt;</pre>
    <p>
     It uses
     <strong class="bold">
      XML format
     </strong>
     to store
     <a id="_idIndexMarker063">
     </a>
     the paths of the resource files, which are relative to
     <a id="_idIndexMarker064">
     </a>
     the directory that contains them. The listed resource files must be located in the same directory as the
     <strong class="source-inline">
      .qrc
     </strong>
     file, or one of
     <span class="No-Break">
      its subdirectories.
     </span>
    </p>
    <h1 id="_idParaDest-30">
     <a id="_idTextAnchor030">
     </a>
     Customizing properties and sub-controls
    </h1>
    <p>
     Qt’s style sheet system enables us to create stunning and professional-looking UIs with ease. In this example, we will learn
     <a id="_idIndexMarker065">
     </a>
     how to set custom properties for our widgets and use
     <a id="_idIndexMarker066">
     </a>
     them to switch between
     <span class="No-Break">
      different styles.
     </span>
    </p>
    <h2 id="_idParaDest-31">
     <a id="_idTextAnchor031">
     </a>
     How to do it…
    </h2>
    <p>
     Follow these steps to customize widget properties
     <span class="No-Break">
      and sub-controls:
     </span>
    </p>
    <ol>
     <li>
      Let’s create a new Qt project. I have prepared the UI for this purpose. The UI contains three buttons on the
      <a id="_idIndexMarker067">
      </a>
      left-hand side and a
      <strong class="bold">
       tab widget
      </strong>
      with three pages located on the right-hand side, as shown in the
      <span class="No-Break">
       following screenshot:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer021">
      <img alt="Figure 1.17 – Basic user interface with three tabs and buttons" src="../images\image/B20976_01_017.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.17 – Basic user interface with three tabs and buttons
    </p>
    <ol>
     <li value="2">
      The three buttons
      <a id="_idIndexMarker068">
      </a>
      are blue because I’ve added the following style
      <a id="_idIndexMarker069">
      </a>
      sheet to the main window (not to the
      <span class="No-Break">
       individual button):
      </span>
      <pre class="source-code">
QPushButton {
     color: white;
     background-color: #27a9e3;
     border-width: 0px;
     border-radius: 3px;
}</pre>
     </li>
     <li>
      I will explain what
      <strong class="bold">
       pseudo-states
      </strong>
      are in Qt
      <a id="_idIndexMarker070">
      </a>
      by adding the following style sheet to the main window. You might be familiar
      <span class="No-Break">
       with this:
      </span>
      <pre class="source-code">
QPushButton:hover {
     color: white;
     background-color: #66c011;
     border-width: 0px;
     border-radius: 3px;
}</pre>
     </li>
     <li>
      We used the preceding style sheet in the
      <em class="italic">
       Creating a login screen using style sheets
      </em>
      recipe, to make the buttons change color when there is a mouse-over event. This is made possible by Qt Style Sheet’s
      <strong class="bold">
       pseudo-state
      </strong>
      , which in this case is the word
      <strong class="source-inline">
       hover
      </strong>
      separated from the
      <strong class="source-inline">
       QPushButton
      </strong>
      class by a colon. Every widget has a set of generic pseudo-states, such as
      <strong class="bold">
       active
      </strong>
      ,
      <strong class="bold">
       disabled
      </strong>
      , and
      <strong class="bold">
       enabled
      </strong>
      , and also a set of
      <a id="_idIndexMarker071">
      </a>
      pseudo-states that apply to their widget type. For example, states such
      <a id="_idIndexMarker072">
      </a>
      as
      <strong class="bold">
       open
      </strong>
      and
      <strong class="bold">
       flat
      </strong>
      are available for
      <strong class="source-inline">
       QPushButton
      </strong>
      , but not for
      <strong class="source-inline">
       QLineEdit
      </strong>
      . Let’s add the
      <strong class="bold">
       pressed
      </strong>
      pseudo-state to change the buttons’ color to yellow when the user clicks
      <span class="No-Break">
       on it:
      </span>
      <pre class="source-code">
QPushButton:pressed {
     color: white;
     background-color: yellow;
     border-width: 0px;
     border-radius: 3px;
}</pre>
     </li>
     <li>
      Pseudo-states allow the users to load a different set of style sheets based on the condition that applies to them. Qt pushes this concept further by implementing
      <strong class="bold">
       dynamic properties
      </strong>
      in Qt Style
      <a id="_idIndexMarker073">
      </a>
      Sheets. This allows us to change the style sheet of a widget when a custom condition has been met. We can make use of this feature to change the style sheet of our buttons based on a custom condition that we can set using custom properties in Qt. First, we will add this style sheet to our
      <span class="No-Break">
       main window:
      </span>
      <pre class="source-code">
QPushButton[pagematches=true] {
     color: white;
     background-color: red;
     border-width: 0px;
     border-radius: 3px;
}</pre>
     </li>
     <li>
      This changes the push button’s background
      <a id="_idIndexMarker074">
      </a>
      color to red if the
      <strong class="source-inline">
       pagematches
      </strong>
      property returns
      <strong class="bold">
       true
      </strong>
      . This
      <a id="_idIndexMarker075">
      </a>
      property does not exist in the
      <strong class="source-inline">
       QPushButton
      </strong>
      class. However, we can add it to our buttons
      <span class="No-Break">
       using
      </span>
      <span class="No-Break">
       <strong class="source-inline">
        QObject::setProperty()
       </strong>
      </span>
      <span class="No-Break">
       :
      </span>
      <ul>
       <li>
        In your
        <strong class="source-inline">
         mainwindow.cpp
        </strong>
        source code, add the following code right
        <span class="No-Break">
         after
        </span>
        <span class="No-Break">
         <strong class="source-inline">
          ui-&gt;setupUi(this)
         </strong>
        </span>
        <span class="No-Break">
         :
        </span>
        <pre class="source-code">
ui-&gt;button1-&gt;setProperty("pagematches", true);</pre>
       </li>
      </ul>
      <p class="list-inset">
       The preceding code will add a custom property called
       <strong class="source-inline">
        pagematches
       </strong>
       to the first button and set its value as true. This will make the first button turn red
       <span class="No-Break">
        by default.
       </span>
      </p>
      <ul>
       <li>
        After that, right-click on
        <strong class="bold">
         Tab Widget
        </strong>
        and choose
        <strong class="bold">
         Go to slot…
        </strong>
        . A window will pop up; select the
        <strong class="source-inline">
         currentChanged(int)
        </strong>
        option from the list and click
        <strong class="bold">
         OK
        </strong>
        . Qt will generate a slot function for you, which looks something
        <span class="No-Break">
         like this:
        </span>
        <pre class="source-code">private slots:
void on_tabWidget_currentChanged(int index);</pre>
       </li>
       <li>
        The
        <strong class="bold">
         slot function
        </strong>
        will be called whenever
        <a id="_idIndexMarker076">
        </a>
        we change the page of
        <strong class="bold">
         Tab Widget
        </strong>
        . We can then decide what we want it to do by adding our code to the slot function. To do that, open
        <strong class="source-inline">
         mainwindow.cpp
        </strong>
        ; you will see the function’s declaration there. Let’s add some code to
        <span class="No-Break">
         the function:
        </span>
        <pre class="source-code">void MainWindow::on_tabWidget_currentChanged(int
index) {
     // Set all buttons to false
     ui-&gt;button1-&gt;setProperty("pagematches", false);
     ui-&gt;button2-&gt;setProperty("pagematches", false);
     ui-&gt;button3-&gt;setProperty("pagematches", false);
     // Set one of the buttons to true
     if (0 == index)
           ui-&gt;button1-&gt;setProperty("pagematches", true);
     else if (index == 1)
           ui-&gt;button2-&gt;setProperty("pagematches", true);
     else
           ui-&gt;button3-&gt;setProperty("pagematches", true);
     // Update buttons style
     ui-&gt;button1-&gt;style()-&gt;polish(ui-&gt;button1);
     ui-&gt;button2-&gt;style()-&gt;polish(ui-&gt;button2);
     ui-&gt;button3-&gt;style()-&gt;polish(ui-&gt;button3);
}</pre>
       </li>
      </ul>
     </li>
     <li>
      The preceding
      <a id="_idIndexMarker077">
      </a>
      code sets the
      <strong class="source-inline">
       pagematches
      </strong>
      properties of all three buttons to
      <strong class="bold">
       false
      </strong>
      when
      <strong class="bold">
       Tab Widget
      </strong>
      switches its current page. Be sure
      <a id="_idIndexMarker078">
      </a>
      to reset everything before we decide which button should change
      <span class="No-Break">
       to red.
      </span>
     </li>
     <li>
      Check the
      <strong class="source-inline">
       index
      </strong>
      variable supplied by the event signal; this will tell you the index number of the current page. Set the
      <strong class="source-inline">
       pagematches
      </strong>
      property of one of the buttons to
      <strong class="bold">
       true
      </strong>
      , based on the
      <span class="No-Break">
       <strong class="source-inline">
        index
       </strong>
      </span>
      <span class="No-Break">
       number.
      </span>
     </li>
     <li>
      Refresh the style of all three buttons by calling
      <strong class="source-inline">
       polish()
      </strong>
      . You may also want to add the following header
      <span class="No-Break">
       to
      </span>
      <span class="No-Break">
       <strong class="source-inline">
        mainwindow.h
       </strong>
      </span>
      <span class="No-Break">
       :
      </span>
      <pre class="source-code">
#include &lt;QStyle&gt;</pre>
     </li>
     <li>
      Build and run the project. You should now see the three buttons changing to red whenever you
      <a id="_idIndexMarker079">
      </a>
      switch
      <strong class="bold">
       Tab Widget
      </strong>
      to a different page. Also, the buttons will  change to
      <a id="_idIndexMarker080">
      </a>
      green when there is a mouse-over, as well as change to yellow when you click
      <span class="No-Break">
       on them:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer022">
      <img alt="Figure 1.18 – The final result looks like this" src="../images\image/B20976_01_018.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.18 – The final result looks like this
    </p>
    <h2 id="_idParaDest-32">
     <a id="_idTextAnchor032">
     </a>
     How it works…
    </h2>
    <p>
     Qt provides users the freedom to add custom properties to any type of widget. Custom properties are very useful if you want to change a particular widget when a special condition is met, whereas Qt doesn’t provide such a context by default. This allows the user to extend the usability of Qt and makes it a flexible tool for
     <span class="No-Break">
      customized solutions.
     </span>
    </p>
    <p>
     For example, if we have a row of buttons on our main window and we need one of them to change its color depending on which page
     <strong class="bold">
      Tab Widget
     </strong>
     is currently showing, there is no way the buttons would know when
     <a id="_idIndexMarker081">
     </a>
     they should change their color because Qt itself has no built-in context for
     <a id="_idIndexMarker082">
     </a>
     this type of situation. To solve this issue, Qt gives us a method to add our own properties to the widgets, which uses a generic function called
     <strong class="source-inline">
      QObject::setProperty()
     </strong>
     . To read the custom property, we can use another function
     <span class="No-Break">
      called
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       QObject::property()
      </strong>
     </span>
     <span class="No-Break">
      .
     </span>
    </p>
    <p>
     Next, we will talk about sub-controls in Qt Style Sheets. Often, a widget is not just a single object, but a combination of more than one object or control, used to form a more complex widget. These
     <a id="_idIndexMarker083">
     </a>
     objects are
     <span class="No-Break">
      called
     </span>
     <span class="No-Break">
      <strong class="bold">
       sub-controls
      </strong>
     </span>
     <span class="No-Break">
      .
     </span>
    </p>
    <p>
     For example, a spin box widget contains an input field, a down button, an up button, an up arrow, and a down arrow, which is quite complicated compared to some other widgets. In this case, Qt grants us more flexibility by allowing us to change every sub-control using a style sheet if we want to. We can do so by specifying the name of the sub-control behind the widget’s class name, separated by a double colon. For instance, if I want to change the image of the down button to a spin box, I can write my style sheet
     <span class="No-Break">
      as follows:
     </span>
    </p>
    <pre class="source-code">
QSpinBox::down-button {
     image: url(:/images/spindown.png);
     subcontrol-origin: padding;
     subcontrol-position: right bottom;
}</pre>
    <p>
     This will only apply the image to the down button of my spin box, and not to any other parts of the widget. By combining
     <strong class="bold">
      custom properties
     </strong>
     ,
     <strong class="bold">
      pseudo-states
     </strong>
     , and
     <strong class="bold">
      sub-controls
     </strong>
     , Qt provides us with a very flexible method to customize our
     <span class="No-Break">
      user interface.
     </span>
    </p>
    <p class="callout-heading">
     Note
    </p>
    <p class="callout">
     Visit the following link to learn more about pseudo-states and subcontrols in
     <span class="No-Break">
      Qt:
     </span>
     <a href="http://doc.qt.io/qt-6/stylesheet-reference.html">
      <span class="No-Break">
       http://doc.qt.io/qt-6/stylesheet-reference.html
      </span>
     </a>
     <span class="No-Break">
      .
     </span>
    </p>
    <h1 id="_idParaDest-33">
     <a id="_idTextAnchor033">
     </a>
     Styling in Qt Modeling Language (QML)
    </h1>
    <p>
     <strong class="bold">
      Qt Meta Language
     </strong>
     or
     <strong class="bold">
      Qt Modeling Language
     </strong>
     (
     <strong class="bold">
      QML
     </strong>
     ) is a JavaScript-inspired user interface markup language that’s used
     <a id="_idIndexMarker084">
     </a>
     by Qt to design user interfaces. Qt provides you with
     <strong class="bold">
      Qt Quick Components
     </strong>
     (widgets powered
     <a id="_idIndexMarker085">
     </a>
     by the QML technology) to
     <a id="_idIndexMarker086">
     </a>
     easily design touch-friendly UI without C++ programming. We will learn more about how to use QML and Qt Quick Components to design our program’s UI by following the steps provided in
     <span class="No-Break">
      this recipe.
     </span>
    </p>
    <h2 id="_idParaDest-34">
     <a id="_idTextAnchor034">
     </a>
     How to do it…
    </h2>
    <p>
     Follow these steps to learn about styling
     <span class="No-Break">
      in QML:
     </span>
    </p>
    <ol>
     <li>
      Since Qt 6, The Qt Company has
      <a id="_idIndexMarker087">
      </a>
      released a separate program called
      <strong class="bold">
       Qt Design Studio
      </strong>
      for
      <a id="_idIndexMarker088">
      </a>
      developing Qt Quick applications. It’s intended to separate the different tasks of designers and programmers. So, if you’re a GUI designer, you should use
      <strong class="bold">
       Qt Design Studio
      </strong>
      , while sticking to Qt Creator if you’re a programmer. Once you have installed and opened Qt Design Studio, create a new project by pressing on the big
      <strong class="bold">
       Create Project…
      </strong>
      button or by going to
      <strong class="bold">
       File
      </strong>
      |
      <strong class="bold">
       New Project…
      </strong>
      from the
      <span class="No-Break">
       top menu:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer023">
      <img alt="Figure 1.19 – Creating a new QML project in Qt Design Studio" src="../images\image/B20976_01_019.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.19 – Creating a new QML project in Qt Design Studio
    </p>
    <ol>
     <li value="2">
      Once the
      <strong class="bold">
       New Project
      </strong>
      window
      <a id="_idIndexMarker089">
      </a>
      appears, key in the default width and height of your project window and insert a name for your project. Then, select the directory where you want your project to be created, select a default GUI style, pick a target Qt version, and click the
      <strong class="bold">
       Create
      </strong>
      button. Your Qt Quick project will now be created by Qt
      <span class="No-Break">
       Design Studio.
      </span>
     </li>
     <li>
      There are some differences
      <a id="_idIndexMarker090">
      </a>
      between a
      <strong class="bold">
       QML project
      </strong>
      and a
      <strong class="bold">
       C++ Qt project
      </strong>
      . You will see
      <a id="_idIndexMarker091">
      </a>
      an
      <strong class="source-inline">
       App.qml
      </strong>
      file inside the project resource. This
      <strong class="source-inline">
       .qml
      </strong>
      file is the UI description file that’s written using the QML markup language. If you double-click the
      <strong class="source-inline">
       main.qml
      </strong>
      file, Qt Creator will open the script editor and you will see something
      <span class="No-Break">
       like this:
      </span>
      <pre class="source-code">
import QtQuick 6.2
import QtQuick.Window 6.2
import MyProject
Window {
    width: mainScreen.width
    height: mainScreen.height
    visible: true
    title: "MyProject"
    Screen01 {
        id: mainScreen
    }
}</pre>
     </li>
     <li>
      This file tells Qt to create a window that loads the
      <strong class="bold">
       Screen01
      </strong>
      user interface and a window title with your project name. The
      <strong class="bold">
       Screen01
      </strong>
      interface comes from another file
      <span class="No-Break">
       called
      </span>
      <span class="No-Break">
       <strong class="bold">
        Screen01.ui.qml
       </strong>
      </span>
      <span class="No-Break">
       .
      </span>
     </li>
     <li>
      If you open the
      <strong class="source-inline">
       main.cpp
      </strong>
      file
      <a id="_idIndexMarker092">
      </a>
      located in the
      <strong class="source-inline">
       scr
      </strong>
      folder in your project, you will see the following line
      <span class="No-Break">
       of code:
      </span>
      <pre class="source-code">
QQmlApplicationEngine engine;
const QUrl url(u"qrc:Main/main.qml"_qs);</pre>
     </li>
     <li>
      The preceding code tells Qt’s QML engine to load the
      <strong class="source-inline">
       main.qml
      </strong>
      file when the program starts. If you want to load the other
      <strong class="source-inline">
       .qml
      </strong>
      file, you know where to look for the code. The
      <strong class="source-inline">
       src
      </strong>
      folder is hidden from your Qt Design Studio project; you can look for it inside your
      <span class="No-Break">
       project directory.
      </span>
     </li>
     <li>
      If you build the project now, all you’ll get is a huge window with simple text and a push button that says
      <strong class="bold">
       Press me
      </strong>
      . The window’s background color and the text will change when you press the
      <span class="No-Break">
       push button:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer024">
      <img alt="Figure 1.20 – Your first Qt Quick program" src="../images\image/B20976_01_020.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.20 – Your first Qt Quick program
    </p>
    <ol>
     <li value="8">
      To add UI elements, we’ll
      <a id="_idIndexMarker093">
      </a>
      create a
      <strong class="bold">
       Qt Quick UI File
      </strong>
      by going to
      <strong class="bold">
       File
      </strong>
      |
      <strong class="bold">
       New File…
      </strong>
      and selecting
      <strong class="bold">
       Qt Quick UI File
      </strong>
      under the
      <strong class="bold">
       Files and Classes
      </strong>
      |
      <strong class="bold">
       Qt Quick
      </strong>
      <span class="No-Break">
       <strong class="bold">
        Files
       </strong>
      </span>
      <span class="No-Break">
       category:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer025">
      <img alt="Figure 1.21 - Creating a new Qt Quick UI file" src="../images\image/B20976_01_021.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.21 - Creating a new Qt Quick UI file
    </p>
    <ol>
     <li value="9">
      Set
      <strong class="bold">
       Component name
      </strong>
      to
      <strong class="source-inline">
       Main
      </strong>
      , followed
      <a id="_idIndexMarker094">
      </a>
      by clicking the
      <span class="No-Break">
       <strong class="bold">
        Finish
       </strong>
      </span>
      <span class="No-Break">
       button:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer026">
      <img alt="Figure 1.22 – Giving your Qt Quick component a meaningful name" src="../images\image/B20976_01_022.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.22 – Giving your Qt Quick component a meaningful name
    </p>
    <ol>
     <li value="10">
      A new file called
      <strong class="source-inline">
       Main.ui.qml
      </strong>
      has been added to your project resources. Try to open the
      <strong class="source-inline">
       Main.ui.qml
      </strong>
      file by double-clicking on it, if it hasn’t been automatically opened by Qt
      <a id="_idIndexMarker095">
      </a>
      Design Studio upon creation. You will see a completely different UI editor compared to what we had for the C++ project in the
      <span class="No-Break">
       previous recipes.
      </span>
     </li>
     <li>
      Let’s open
      <strong class="source-inline">
       App.qml
      </strong>
      and replace
      <strong class="bold">
       Screen01
      </strong>
      with
      <strong class="bold">
       Main
      </strong>
      ,
      <span class="No-Break">
       like so:
      </span>
      <pre class="source-code">
Main {
     id: mainScreen
}</pre>
     </li>
     <li>
      When
      <strong class="source-inline">
       App.qml
      </strong>
      is loaded by the QML engine, it will also import
      <strong class="source-inline">
       Main.ui.qml
      </strong>
      into the UI since
      <strong class="source-inline">
       Main
      </strong>
      is now being called in the
      <strong class="source-inline">
       App.qml
      </strong>
      file. Qt will check whether
      <strong class="source-inline">
       Main
      </strong>
      is a valid UI by searching for its
      <strong class="source-inline">
       .qml
      </strong>
      file based on the naming convention. This concept is similar to the C++ project we completed in all our previous recipes; the
      <strong class="source-inline">
       App.qml
      </strong>
      file acts like the
      <strong class="source-inline">
       main.cpp
      </strong>
      file and
      <strong class="source-inline">
       Main.ui.qml
      </strong>
      acts like the
      <strong class="source-inline">
       MainWindow
      </strong>
      class. You can also create other UI templates and use them in
      <strong class="source-inline">
       App.qml
      </strong>
      . Hopefully, this comparison will make it easier to understand how
      <span class="No-Break">
       QML works.
      </span>
     </li>
     <li>
      Open
      <strong class="source-inline">
       Main.ui.qml
      </strong>
      . You should see only one item listed in the
      <strong class="bold">
       Navigator
      </strong>
      window:
      <strong class="bold">
       Item
      </strong>
      . This is the
      <a id="_idIndexMarker096">
      </a>
      base layout of the window, which shouldn’t be deleted. It is similar to
      <strong class="bold">
       centralWidget
      </strong>
      , which we used in the
      <span class="No-Break">
       previous recipe.
      </span>
     </li>
     <li>
      The canvas is empty at the moment, so let’s drag a
      <strong class="bold">
       Mouse Area
      </strong>
      item and
      <strong class="bold">
       Text
      </strong>
      items to the canvas from the
      <strong class="bold">
       QML Types
      </strong>
      panel on the left. Resize
      <strong class="bold">
       Mouse Area
      </strong>
      so that it fills the entire canvas. Also, make sure that both
      <strong class="bold">
       Mouse Area
      </strong>
      and the
      <strong class="bold">
       Text
      </strong>
      items are being placed under the
      <strong class="bold">
       Item
      </strong>
      item in the
      <strong class="bold">
       Navigator
      </strong>
      panel, as shown in the
      <span class="No-Break">
       following screenshot:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer027">
      <img alt="Figure 1.23 – Dragging and dropping a mouse area and text items onto the canvas" src="../images\image/B20976_01_023.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.23 – Dragging and dropping a mouse area and text items onto the canvas
    </p>
    <ol>
     <li value="15">
      The
      <strong class="bold">
       Mouse Area
      </strong>
      item is an invincible item that gets triggered when the mouse is clicking on it, or when a finger is touching it (for mobile platforms). The
      <strong class="bold">
       Mouse Area
      </strong>
      item is also
      <a id="_idIndexMarker097">
      </a>
      used in a
      <strong class="bold">
       button
      </strong>
      component, which we will be using in a while. The
      <strong class="bold">
       Text
      </strong>
      item is self-explanatory: it is a label that displays a block of text in
      <span class="No-Break">
       the application.
      </span>
     </li>
     <li>
      On the
      <strong class="bold">
       Navigator
      </strong>
      window, we can hide or show an item by clicking on the icon that resembles an eye beside the item. When an item is hidden, it will not appear on the canvas or the compiled application. Just like the widgets in a C++ Qt project, Qt Quick Components are arranged in a hierarchy based on the parent-child relationship. All the child items will be placed under the parent item with an indented position. In our case, we can see that the
      <strong class="bold">
       Mouse Area
      </strong>
      and
      <strong class="bold">
       Text
      </strong>
      elements are positioned slightly to the right compared to the
      <strong class="bold">
       Item
      </strong>
      item because they are both children of the
      <strong class="bold">
       Item
      </strong>
      element. We can rearrange the parent-child relationship, as well as their position in the hierarchy, by using a click-and-drag method from the
      <strong class="bold">
       Navigator
      </strong>
      window. You can try clicking on the
      <strong class="bold">
       Text
      </strong>
      item and dragging it on top of the mouse area. You will then see that the
      <strong class="bold">
       Text
      </strong>
      item has changed its position and is now located beneath the mouse area with a
      <span class="No-Break">
       wider indentation:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer028">
      <img alt="Figure 1.24 – Rearranging the parent-child relationship between items" src="../images\image/B20976_01_024.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.24 – Rearranging the parent-child relationship between items
    </p>
    <ol>
     <li value="17">
      We can rearrange them by
      <a id="_idIndexMarker098">
      </a>
      using the arrow buttons located at the top of the
      <strong class="bold">
       Navigator
      </strong>
      window, as shown in the preceding screenshot. Anything that happens to the parent item will also affect all its children, such as moving the parent item, and hiding and showing the
      <span class="No-Break">
       parent item.
      </span>
     </li>
    </ol>
    <p class="callout-heading">
     Note
    </p>
    <p class="callout">
     You can pan around the canvas view by holding the middle mouse button (or mouse scroll) while moving your mouse around. You can also zoom in and out by scrolling your mouse while holding the
     <em class="italic">
      Ctrl
     </em>
     key on your keyboard. By default, scrolling your mouse will move the canvas view up and down. However, if your mouse cursor is on top of the horizontal scroll bar of the canvas, scrolling the mouse will move the view to the left
     <span class="No-Break">
      and right.
     </span>
    </p>
    <ol>
     <li value="18">
      Delete both the
      <strong class="bold">
       Mouse Area
      </strong>
      item and
      <strong class="bold">
       Text
      </strong>
      items as we will be learning how to create a user interface from scratch using QML and
      <span class="No-Break">
       Qt Quick.
      </span>
     </li>
     <li>
      Set the
      <strong class="bold">
       Item
      </strong>
      element’s size to
      <strong class="source-inline">
       800 x 600
      </strong>
      as we’re going to need a bigger space for
      <span class="No-Break">
       the widgets.
      </span>
     </li>
     <li>
      Copy the images we used in the previous C++ project, in the
      <em class="italic">
       Using resources in style sheets
      </em>
      recipe, over to the QML project’s folder since we are going to recreate the same login screen
      <span class="No-Break">
       with QML.
      </span>
     </li>
     <li>
      Add the images to the resource file so that we can use them for
      <span class="No-Break">
       our UI.
      </span>
     </li>
     <li>
      Open
      <strong class="bold">
       Qt Design Studio
      </strong>
      and switch to the
      <strong class="bold">
       Resources
      </strong>
      window. Click and drag the background image directly to the canvas. Switch over to the
      <strong class="bold">
       Layout
      </strong>
      tab on the
      <strong class="bold">
       Properties
      </strong>
      pane
      <a id="_idIndexMarker099">
      </a>
      and click the fill anchor button, indicated here by a red circle. This will make the background image always stick to the
      <span class="No-Break">
       window size:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer029">
      <img alt="Figure 1.25 – Selecting the fill anchor button to make the item follow the size of its parent object" src="../images\image/B20976_01_025.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.25 – Selecting the fill anchor button to make the item follow the size of its parent object
    </p>
    <ol>
     <li value="23">
      Click and drag a
      <strong class="bold">
       Rectangle
      </strong>
      component from the
      <strong class="bold">
       Library
      </strong>
      window to the canvas. We will use this as the top panel for
      <span class="No-Break">
       our program.
      </span>
     </li>
     <li>
      For the top panel, enable the top anchor, left anchor, and right anchor so that the panel sticks to the top of the window and follows its width. Make sure all the margins are set
      <span class="No-Break">
       to zero.
      </span>
     </li>
     <li>
      Go to the
      <strong class="bold">
       Color
      </strong>
      property of the top panel and select
      <strong class="bold">
       Gradient
      </strong>
      . Set the first color to
      <strong class="source-inline">
       #805bcce9
      </strong>
      and the second color to
      <strong class="source-inline">
       #80000000
      </strong>
      . This will create a half-transparent panel with a
      <span class="No-Break">
       blue gradient.
      </span>
     </li>
     <li>
      Add a
      <strong class="bold">
       Text
      </strong>
      widget to the canvas and make it a child of the top panel. Set its
      <strong class="bold">
       text
      </strong>
      property to the current date and time (for example,
      <strong class="source-inline">
       Wednesday, 25-10-2023 3:14 PM
      </strong>
      ) for display purposes. Then, set the text color
      <span class="No-Break">
       to white.
      </span>
     </li>
     <li>
      Switch over to the
      <strong class="bold">
       Layout
      </strong>
      tab and enable the top anchor and left anchor so that the text widget will always stick to the top-left corner of
      <span class="No-Break">
       the screen.
      </span>
     </li>
     <li>
      Add a
      <strong class="bold">
       Mouse Area
      </strong>
      item to the screen and set its size to
      <strong class="source-inline">
       50 x 50
      </strong>
      . Then, make it a child of the top
      <a id="_idIndexMarker100">
      </a>
      panel by dragging it on top of the top panel in the
      <span class="No-Break">
       <strong class="bold">
        Navigator
       </strong>
      </span>
      <span class="No-Break">
       window.
      </span>
     </li>
     <li>
      Set the color of the mouse area to blue (
      <strong class="source-inline">
       #27a9e3
      </strong>
      ) and set its radius to
      <strong class="source-inline">
       2
      </strong>
      to make its corners slightly rounded. Enable the top anchor and right anchor to make it stick to the top-right corner of the window. Set the top anchor’s margin to
      <strong class="source-inline">
       8
      </strong>
      and the right anchor’s margin to
      <strong class="source-inline">
       10
      </strong>
      to create
      <span class="No-Break">
       some space.
      </span>
     </li>
     <li>
      Open the
      <strong class="bold">
       Resources
      </strong>
      window and drag the shutdown icon to the canvas. Make it a child of the
      <strong class="bold">
       Mouse Area
      </strong>
      item we created a moment ago. Then, enable the fill anchor to make it fit the size of the
      <span class="No-Break">
       mouse area.
      </span>
     </li>
     <li>
      Phew – that’s a lot of steps! Now, your items should be arranged as follows in the
      <span class="No-Break">
       <strong class="bold">
        Navigator
       </strong>
      </span>
      <span class="No-Break">
       window:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer030">
      <img alt="Figure 1.26 – Be cautious about the parent-child relationship between items" src="../images\image/B20976_01_026.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.26 – Be cautious about the parent-child relationship between items
    </p>
    <ol>
     <li value="32">
      The parent-child relationship and the layout anchors are both very important to keep the widgets in
      <a id="_idIndexMarker101">
      </a>
      the correct positions when the main window changes its size. Your top panel should look something
      <span class="No-Break">
       like this:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer031">
      <img alt="Figure 1.27 – Completing the top banner design" src="../images\image/B20976_01_027.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.27 – Completing the top banner design
    </p>
    <ol>
     <li value="33">
      Let’s work on the login form. Add a new
      <strong class="bold">
       Rectangle
      </strong>
      to the canvas by dragging it from the
      <strong class="bold">
       Library
      </strong>
      window. Resize the rectangle to
      <strong class="source-inline">
       360 x 200
      </strong>
      and set its radius
      <span class="No-Break">
       to
      </span>
      <span class="No-Break">
       <strong class="source-inline">
        15
       </strong>
      </span>
      <span class="No-Break">
       .
      </span>
     </li>
     <li>
      Set its color to
      <strong class="source-inline">
       #80000000
      </strong>
      ; this will change it to black with
      <span class="No-Break">
       50% transparency.
      </span>
     </li>
     <li>
      Enable the vertical center anchor and the horizontal center anchor to make the rectangle always align with the center of the window. Then, set the margin of the vertical center anchor to
      <strong class="source-inline">
       100
      </strong>
      so that it moves slightly lower to the bottom. This will ensure we have the space to place the logo. The following screenshot illustrates the settings
      <span class="No-Break">
       for
      </span>
      <span class="No-Break">
       <strong class="bold">
        Anchors
       </strong>
      </span>
      <span class="No-Break">
       :
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer032">
      <img alt="Figure 1.28 – Setting the alignment and margin" src="../images\image/B20976_01_028.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.28 – Setting the alignment and margin
    </p>
    <ol>
     <li value="36">
      Add the text objects to the canvas. Make them children of the login form (the
      <strong class="bold">
       Rectangle
      </strong>
      widget) and set their
      <strong class="bold">
       text
      </strong>
      properties to
      <strong class="source-inline">
       Username:
      </strong>
      and
      <strong class="source-inline">
       Password:
      </strong>
      . Change their
      <a id="_idIndexMarker102">
      </a>
      text color to white and position them accordingly. We don’t need to set a margin this time because they will follow the
      <span class="No-Break">
       rectangle’s position.
      </span>
     </li>
     <li>
      Add two text input objects to the canvas and place them next to the text widgets we just created. Make sure the text input is also a child of the login form. Since the text input doesn’t contain any background color property, we need to add two rectangles to the canvas to use as
      <span class="No-Break">
       their background.
      </span>
     </li>
     <li>
      Add two rectangles to the canvas and make each of them a child of one of the text inputs we just created. Set the
      <strong class="bold">
       radius
      </strong>
      property to
      <strong class="source-inline">
       5
      </strong>
      to give them some rounded corners. After that, enable fill anchors on both of the rectangles so that they will follow the size of the text
      <span class="No-Break">
       input widgets.
      </span>
     </li>
     <li>
      Now, let’s create the login button beneath the password field. Add a mouse area to the canvas and make it a child of the login form. Resize it to your preferred dimension and move it
      <span class="No-Break">
       into place.
      </span>
     </li>
     <li>
      Since the mouse area does not contain any background color property, we need to add a
      <strong class="bold">
       Rectangle
      </strong>
      widget and make it a child of the mouse area. Set the color of the rectangle to blue (
      <strong class="source-inline">
       #27a9e3
      </strong>
      ) and enable the fill anchor so that it fits nicely with the
      <span class="No-Break">
       mouse area.
      </span>
     </li>
     <li>
      Add a text object to the canvas and make it a child of the login button. Change its text color to white
      <a id="_idIndexMarker103">
      </a>
      and set its
      <strong class="bold">
       text
      </strong>
      property to
      <strong class="source-inline">
       Login
      </strong>
      . Finally, enable the horizontal center anchor and the vertical center anchor so that they align with the center of
      <span class="No-Break">
       the button.
      </span>
     </li>
     <li>
      You will now get a login form that looks pretty similar to the one we made in the
      <span class="No-Break">
       C++ project:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer033">
      <img alt="Figure 1.29 – Final design of the login form" src="../images\image/B20976_01_029.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.29 – Final design of the login form
    </p>
    <ol>
     <li value="43">
      Now, it’s time to add the logo, which is very simple. Open the
      <strong class="bold">
       Resources
      </strong>
      window and drag the logo image to
      <span class="No-Break">
       the canvas.
      </span>
     </li>
     <li>
      Make it a child of the login form and set its size to
      <strong class="source-inline">
       512
      </strong>
      <span class="No-Break">
       <strong class="source-inline">
        x 200
       </strong>
      </span>
      <span class="No-Break">
       .
      </span>
     </li>
     <li>
      Position it on top of the login form. With that,
      <span class="No-Break">
       you’re done.
      </span>
     </li>
     <li>
      This is what the entire UI looks like when compiled. We have successfully recreated the login screen from the C++ project, but this time, we did it with QML and
      <span class="No-Break">
       Qt Quick:
      </span>
     </li>
    </ol>
    <div>
     <div class="IMG---Figure" id="_idContainer034">
      <img alt="Figure 1.30 – The final result" src="../images\image/B20976_01_030.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.30 – The final result
    </p>
    <h2 id="_idParaDest-35">
     <a id="_idTextAnchor035">
     </a>
     How it works…
    </h2>
    <p>
     The Qt Quick editor uses a very
     <a id="_idIndexMarker104">
     </a>
     different approach for placing widgets in the application compared to the form editor. The user can decide which method is best suited to their purposes. The following screenshot shows what the Qt Quick Designer
     <span class="No-Break">
      looks like:
     </span>
    </p>
    <div>
     <div class="IMG---Figure" id="_idContainer035">
      <img alt="Figure 1.31 – Overview of Qt Design Studio’s user interface" src="../images\image/B20976_01_031.jpg"/>
     </div>
    </div>
    <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
     Figure 1.31 – Overview of Qt Design Studio’s user interface
    </p>
    <p>
     Let’s look at the various elements of the
     <span class="No-Break">
      editor’s UI:
     </span>
    </p>
    <ol>
     <li>
      <strong class="bold">
       Navigator
      </strong>
      : The
      <strong class="bold">
       Navigator
      </strong>
      window displays
      <a id="_idIndexMarker105">
      </a>
      the items in the current QML file as a tree structure. It’s similar to the object operator window in the other Qt Designer we used in the
      <em class="italic">
       Using style sheets with Qt
      </em>
      <span class="No-Break">
       <em class="italic">
        Designer
       </em>
      </span>
      <span class="No-Break">
       recipe.
      </span>
     </li>
     <li>
      <strong class="bold">
       Library
      </strong>
      : The
      <strong class="bold">
       Library
      </strong>
      window displays all the Qt Quick Components or Qt Quick Controls available in QML. You can click and drag it to the canvas window to add to your UI. You can also create your own custom QML components and display
      <span class="No-Break">
       them here.
      </span>
     </li>
     <li>
      <strong class="bold">
       Assets
      </strong>
      : The
      <strong class="bold">
       Assets
      </strong>
      window displays all the resources in a list that can then be used in your
      <span class="No-Break">
       UI design.
      </span>
     </li>
     <li>
      <strong class="bold">
       Add Modules
      </strong>
      : The
      <strong class="bold">
       Add Modules
      </strong>
      button allows you to import different QML modules into your current QML file, such as a Bluetooth module, a WebKit module, or a positioning module, to add additional functionality to your
      <span class="No-Break">
       QML project.
      </span>
     </li>
     <li>
      <strong class="bold">
       Properties
      </strong>
      : Similar to the
      <strong class="bold">
       Property Editor
      </strong>
      area we used in the previous recipe, the
      <strong class="bold">
       Properties
      </strong>
      pane in QML Designer displays the properties of the selected item. You can also change the properties of the items in the
      <span class="No-Break">
       code editor.
      </span>
     </li>
     <li>
      <strong class="bold">
       Canvas
      </strong>
      : The canvas is the working area where you create QML components and
      <span class="No-Break">
       design applications.
      </span>
     </li>
     <li>
      <strong class="bold">
       Workspace selector
      </strong>
      : The workspace selector area displays the different layouts available in the Qt
      <a id="_idIndexMarker106">
      </a>
      Design Studio editor, allowing the user to select the workspace that suits
      <span class="No-Break">
       their needs.
      </span>
     </li>
     <li>
      <strong class="bold">
       Style selector
      </strong>
      : This selector is where you can select a different style to preview how your application will look when running on a specific platform. This is very useful when developing
      <span class="No-Break">
       cross-platform applications.
      </span>
     </li>
    </ol>
    <h1 id="_idParaDest-36">
     <a id="_idTextAnchor036">
     </a>
     Exposing the QML object pointer to C++
    </h1>
    <p>
     Sometimes, we want to
     <a id="_idIndexMarker107">
     </a>
     modify the properties of a QML object through C++ scripting, such as changing the text of a label, hiding/showing the widget, or
     <a id="_idIndexMarker108">
     </a>
     changing its size. Qt’s QML engine allows you to register your QML objects to C++ types, which automatically exposes all
     <span class="No-Break">
      its properties.
     </span>
    </p>
    <h2 id="_idParaDest-37">
     <a id="_idTextAnchor037">
     </a>
     How to do it…
    </h2>
    <p>
     We want to create a label in QML and change its text occasionally. To expose the label object to C++, we can do
     <span class="No-Break">
      the following:
     </span>
    </p>
    <ol>
     <li>
      Create a C++ class called
      <strong class="source-inline">
       MyLabel
      </strong>
      that extends from the
      <strong class="source-inline">
       QObject
      </strong>
      class
      <span class="No-Break">
       in
      </span>
      <span class="No-Break">
       <strong class="source-inline">
        mylabel.h
       </strong>
      </span>
      <span class="No-Break">
       :
      </span>
      <pre class="source-code">
class MyLabel : public QObject {
Q_OBJECT
public:
     // Object pointer
     QObject* myObject;
     explicit MyLabel(QObject *parent = 0);
     // Must call Q_INVOKABLE so that this function can be used in QML
     Q_INVOKABLE void SetMyObject(QObject* obj);
}</pre>
     </li>
     <li>
      In the
      <strong class="source-inline">
       mylabel.cpp
      </strong>
      source
      <a id="_idIndexMarker109">
      </a>
      file, define a function called
      <strong class="source-inline">
       SetMyObject()
      </strong>
      to save the object pointer. This
      <a id="_idIndexMarker110">
      </a>
      function will later be called in QML
      <span class="No-Break">
       in
      </span>
      <span class="No-Break">
       <strong class="source-inline">
        mylabel.cpp
       </strong>
      </span>
      <span class="No-Break">
       :
      </span>
      <pre class="source-code">
void MyLabel::SetMyObject(QObject* obj) {
     // Set the object pointer
     myObject = obj;
}</pre>
     </li>
     <li>
      In
      <strong class="source-inline">
       main.cpp
      </strong>
      , include the
      <strong class="source-inline">
       MyLabel
      </strong>
      header and register it to the QML engine using the
      <span class="No-Break">
       <strong class="source-inline">
        qmlRegisterType()
       </strong>
      </span>
      <span class="No-Break">
       function:
      </span>
      <pre class="source-code">
include "mylabel.h"
int main(int argc, char *argv[]) {
     // Register your class to QML
     qmlRegisterType&lt;MyLabel&gt;("MyLabelLib", 1, 0, "MyLabel");
}</pre>
     </li>
     <li>
      Notice that there are four parameters you need to declare in
      <strong class="source-inline">
       qmlRegisterType()
      </strong>
      . Besides declaring your class name (
      <strong class="source-inline">
       MyLabel
      </strong>
      ), you also need to declare your library name (
      <strong class="source-inline">
       MyLabelLib
      </strong>
      ) and its version (
      <strong class="source-inline">
       1.0
      </strong>
      ). This will be used to import your class
      <span class="No-Break">
       into QML.
      </span>
     </li>
     <li>
      Map the QML engine to our label object in QML and import the class library we defined earlier in
      <em class="italic">
       Step 3
      </em>
      by calling
      <strong class="source-inline">
       import MyLabelLib 1.0
      </strong>
      in our QML file. Notice that the library name and its version number have to match the one you declared in
      <strong class="source-inline">
       main.cpp
      </strong>
      ; otherwise, it will throw an error. After declaring
      <strong class="source-inline">
       MyLabel
      </strong>
      in QML and
      <a id="_idIndexMarker111">
      </a>
      setting its ID as
      <strong class="bold">
       mylabels
      </strong>
      , call
      <strong class="source-inline">
       mylabel.SetMyObject(myLabel)
      </strong>
      to expose its pointer to C/C++ right after
      <a id="_idIndexMarker112">
      </a>
      the label
      <span class="No-Break">
       is initialized:
      </span>
      <pre class="source-code">
import MyLabelLib 1.0
ApplicationWindow {
     id: mainWindow
     width: 480
     height: 640
     MyLabel {
           id: mylabel
     }
     Label {
           id: helloWorldLabel
           text: qsTr("Hello World!")
           Component.onCompleted: {
               mylabel.SetMyObject(hellowWorldLabel);
           }
     }
}</pre>
     </li>
     <li>
      Wait until the label is fully initiated before exposing its pointer to C/C++; otherwise, you may cause the program to crash. To make sure it’s fully initiated, call the
      <strong class="source-inline">
       SetMyObject()
      </strong>
      function within
      <strong class="source-inline">
       Component.onCompleted
      </strong>
      and not in any other functions or event callbacks. Now that the QML label has been exposed to C/C++, we can change any of its properties by calling the
      <strong class="source-inline">
       setProperty()
      </strong>
      function. For instance, we can set its visibility to
      <strong class="source-inline">
       true
      </strong>
      and change its text to
      <strong class="source-inline">
       Bye
      </strong>
      <span class="No-Break">
       <strong class="source-inline">
        bye world!
       </strong>
      </span>
      <span class="No-Break">
       :
      </span>
      <pre class="source-code">
// Qvariant automatically detects your data type
myObject-&gt;setProperty("visible", Qvariant(true));
myObject-&gt;setProperty("text", Qvariant("Bye bye world!"));</pre>
     </li>
     <li>
      Besides changing the
      <a id="_idIndexMarker113">
      </a>
      properties, we can also call its functions
      <a id="_idIndexMarker114">
      </a>
      by calling the
      <span class="No-Break">
       following code:
      </span>
      <pre class="source-code">
QVariant returnedValue;
QVariant message = "Hello world!";
QMetaObject::invokeMethod(myObject, "myQMLFunction",
Q_RETURN_ARG(QVariant, returnedValue), Q_ARG(QVariant,
message));
qDebug() &lt;&lt; "QML function returned:" &lt;&lt;
returnedValue.toString();</pre>
     </li>
     <li>
      Or, simply, we can call the
      <strong class="source-inline">
       invokedMethod()
      </strong>
      function with only two parameters if we do not expect any values to be returned
      <span class="No-Break">
       from it:
      </span>
      <pre class="source-code">
QMetaObject::invokeMethod(myObject, "myQMLFunction");</pre>
     </li>
    </ol>
    <h2 id="_idParaDest-38">
     <a id="_idTextAnchor038">
     </a>
     How it works…
    </h2>
    <p>
     QML is designed in such a way that it can be expanded through C++ code. The classes in the Qt QML module permit QML objects to be used and operate from C++, and the capability of the QML engine united
     <a id="_idIndexMarker115">
     </a>
     with Qt’s
     <strong class="bold">
      meta-object system
     </strong>
     allows C++ functionality to be called directly from QML. To add some C++ data or usage to QML, it should come forward from a QObject-derived class. QML object types could be instituted from C++ and supervised
     <a id="_idIndexMarker116">
     </a>
     to access their properties, appeal their methods, and get their signal alerts. This is possible because all QML object types are executed using QObject-derived classes, allowing the QML engine to forcibly load and inspect objects through the Qt
     <span class="No-Break">
      meta-object system.
     </span>
    </p>
    <h2 id="_idParaDest-39">
     <a id="_idTextAnchor039">
     </a>
     There’s more…
    </h2>
    <p>
     Qt 6 comes with two different types of GUI kits – Qt Widgets and Qt Quick. Both have their strengths and advantages over the other, giving programmers the ability and freedom to design their
     <a id="_idIndexMarker117">
     </a>
     application’s interface without having to worry about feature constraints and
     <span class="No-Break">
      performance issues.
     </span>
    </p>
    <p>
     Qt 6 allows you to pick the best method and programming language that suits your working style and requirements for your project. By going through this chapter, you will be able to create a good-looking and functional cross-platform application using Qt 6 in
     <span class="No-Break">
      no time.
     </span>
    </p>
   </div>
  </div>
 </body>
</html>
