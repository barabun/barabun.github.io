<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html>
<html epub:prefix="z3998: http://www.daisy.org/z3998/2012/vocab/structure/#" lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
 <head>
  <link href="style.css" rel="stylesheet" type="text/css"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   Preface
  </title>
 </head>
 <body>
  <div class="navigation">
   <a class="nav-button" href="chapter_007.html">
    ← Previous
   </a>
   <a class="nav-button" href="index.html">
    Table of Contents
   </a>
   <a class="nav-button" href="chapter_009.html">
    Next →
   </a>
  </div>
  <div class="chapter-content">
   <div id="sbo-rt-content">
    <span aria-label="xv" epub:type="pagebreak" id="pagebreak_xv" role="doc-pagebreak">
    </span>
    <section epub:type="preface" role="doc-preface" xmlns:epub="http://www.idpf.org/2007/ops">
     <a id="pre00001">
     </a>
     <div id="CN">
     </div>
     <h1 class="fmtitle" epub:type="title" id="B9780443222191050017">
      Preface
     </h1>
     <section>
      <a id="s0010">
      </a>
      <h2 class="h1hd" id="cesectitle0010">
       Preface to the second edition
      </h2>
      <div class="para_fl" id="p0010">
       The first edition of this book was written in 2011, right before the C++11 standard was published (it was referred to as C++0x at the time). Since then, C++11 has become well-established and further revisions have appeared at a regular cadence, including C++14, C++17, C++20, and C++23. Given all these changes to the language, I wanted to update this book to be more relevant to today's C++ engineers. So, in this second edition, I've included an entirely new chapter dedicated to the new application programming interface (API) design features that have been added to the standard over the past decade and more. I've also gone through the entire text to modernize it for these updates to the standard. This includes updating all of the code samples to use C++11 syntax where possible, because I feel that's the minimum standard today.
      </div>
      <div class="para_indented" id="p0015">
       While working on such a large update, I decided to add some new chapters to cover topics I felt were missing from the first edition. This includes a new chapter on concurrency and multithreading, a topic that's more relevant now since C++11 introduced direct support for this important issue. Also, because I've since spent several years working at Apple, I wanted to include some of the things I learned about integrating C++ code with Objective-C and Swift, because these have become important languages for writing software on the iOS and macOS platforms.
      </div>
      <div class="para_indented" id="p0020">
       Finally, I added several new sections and sidebars throughout the book to augment the original text, from discussing the SOLID principles and the Thread Safe Interface design pattern to covering functional programming styles and how to incorporate inclusive language in API names and documentation. Overall, this second edition represents a significant update and modernization of the book, from front cover to back cover. I hope that this new edition proves to be an even more invaluable resources for your software projects.
      </div>
     </section>
     <section>
      <a id="s0015">
      </a>
      <h2 class="h1hd" id="cesectitle0015">
       What is application programming interface design?
      </h2>
      <div class="para_fl" id="p0025">
       Writing large applications in C++ is a complex and tricky business. However, designing reusable C++ interfaces that are robust, stable, easy to use, and durable is even more difficult. The best way to succeed in this endeavor is to adhere to the tenets of good API design.
      </div>
      <div class="para_indented" id="p0030">
       An API presents a logical interface to a software component and hides the internal details required to implement that component. It offers a high-level abstraction for a module and promotes code reuse by allowing multiple applications to share the same functionality.
      </div>
      <div class="para_indented" id="p0035">
       Modern software development has become highly dependent upon APIs, from low-level application frameworks to data format APIs and graphical user interface (GUI) frameworks. In fact, common software engineering terms such as modular development, code reuse, componentization, dynamic link library, software frameworks, distributed computing, and service-oriented architecture all imply the need for strong API design skills.
       <a id="pxvi">
       </a>
      </div>
      <div>
       <span aria-label="xvi" epub:type="pagebreak" id="pagebreak_xvi" role="doc-pagebreak">
       </span>
      </div>
      <div class="para_indented" id="p0040">
       Some popular C and C++ APIs that you may already recognize include the C++ Standard Library, Boost, the Microsoft Windows API (Win32), Microsoft Foundation Classes, libtiff, libpng, zlib, libxml++, OpenGL, MySQL++, Qt, wxWidgets, GTK+, KDE, SkypeKit, Intel's Threading Building Blocks, the Netscape Plugin API, and the Apache module API. In addition, many of Google's open-source projects are C++, as is a lot of the code on the GitHub website.
      </div>
      <div class="para_indented" id="p0045">
       APIs such as these are used in all facets of software development, from desktop applications to mobile computing, and from embedded systems to Web development. For example, the Mozilla Firefox Web browser is built on top of more than 80 dynamic libraries, each of which provides the implementation for one or more APIs.
      </div>
      <div class="para_indented" id="p0050">
       Elegant and robust API design is therefore a critical aspect of contemporary software development. One important way in which this differs from standard application development is the far greater need for change management. As we all know, change is an inevitable factor in software development; new requirements, feature requests, and bug fixes cause software to evolve in ways that were never anticipated when it was first devised. However, changes to an API that's shared by hundreds of end-user applications can cause major upheaval and ultimately may cause clients to abandon an API. The primary goal of good API design is therefore to provide your clients with the functionality they need while causing an minimal impact to their code (ideally zero impact) when you release a new version.
      </div>
     </section>
     <section>
      <a id="s0020">
      </a>
      <h2 class="h1hd" id="cesectitle0020">
       Why should you read this book?
      </h2>
      <div class="para_fl" id="p0055">
       If you write C++ code that another engineer relies upon, you're an API designer and this book has been written for you.
      </div>
      <div class="para_indented" id="p0060">
       Interfaces are the most important code that you write because a problem with your interface is far more costly to fix than a bug in your implementation. For instance, an interface change may require all of the applications based upon your code to be updated, whereas an implementation-only change can be integrated transparently and effortlessly into client applications when they adopt the new API version. Put in more economic terms, a poorly designed interface can seriously reduce the long-term survival of your code. Learning how to create high-quality interfaces is therefore an essential engineering skill, and the central focus of this book.
      </div>
      <div class="para_indented" id="p0065">
       As Michi Henning noted, API design is more important today than it was 20 years ago. This is because many more APIs have been designed in recent years. These also provide richer and more complex functionality and are shared by more end-user applications (
       <a href="../B9780443222191160015/References_583-587_B9780443222191160015.xhtml#bib38" id="bib_38">
        Henning, 2009
       </a>
       ). Nevertheless, there are no other books currently on the market that concentrate on the topic of API design for C++.
      </div>
      <div class="para_indented" id="p0070">
       It's worth noting that this book is not meant to be a general C++ programming guide. There are already many good examples of these on the market. I will certainly cover lots of object-oriented design material and present many handy C++ tips and tricks. However, I will focus on techniques for representing clean modular interfaces in C++. By corollary, I will not dive as deeply into the question of how to implement the code behind these interfaces, such as specific algorithm choices or best practices limited to the code within the curly braces of your function bodies.
      </div>
      <div class="para_indented" id="p0075">
       On the other hand, this book will cover the full breadth of API development, from initial design through implementation, testing, documentation, release, versioning, maintenance, and deprecation. I will even cover specialized API topics such as creating scripting and plugin APIs. Although many of these topics are also relevant to software development in general, our
       <a id="pxvii">
       </a>
       <span aria-label="xvii" epub:type="pagebreak" id="pagebreak_xvii" role="doc-pagebreak">
       </span>
       focus here will be on the implications for API design. For example, when discussing testing strategies, I will concentrate on automated API testing techniques rather than attempting to include end-user application testing techniques such as GUI testing, system testing, or manual testing.
      </div>
      <div class="para_indented" id="p0080">
       In terms of my own credentials to write this book, I have led the development of APIs for research code shared by several collaborating institutions, in-house animation system APIs that have been used to make Academy Award–winning movies, open source client/server APIs that have been used by millions of people worldwide, and APIs for the Siri virtual assistant that have been deployed to over a billion devices. Throughout all of these disparate experiences, I have consistently witnessed the need for high-quality API design. This book therefore presents a practical distillation of the techniques and strategies of industrial-strength API design that have been drawn from a range of real-world experiences.
      </div>
     </section>
     <section>
      <a id="s0025">
      </a>
      <h2 class="h1hd" id="cesectitle0025">
       Who is the target audience?
      </h2>
      <div class="para_fl" id="p0085">
       While this book is not a beginner's guide to C++, I have made every effort to make the text easy to read and to explain all terminology and jargon clearly. The book should therefore be valuable to new programmers who have grasped the fundamentals of C++ and want to advance their design skills, as well as senior engineers and software architects who are seeking to gain new expertise to complement their existing talents.
      </div>
      <div class="para_indented" id="p0090">
       There are three specific groups of readers that I have borne in mind while writing this book:
      </div>
      <div>
       <ul class="ce_list" id="olist0010">
        <li class="numlist" id="p0095">
         <a id="o0010">
         </a>
         1.
         <b>
          Practicing software engineers and architects.
         </b>
         Junior and senior developers who are working on a specific API project and need pragmatic advice on how to produce the most elegant and enduring design.
        </li>
        <li class="numlist" id="p0100">
         <a id="o0015">
         </a>
         2.
         <b>
          Technical managers.
         </b>
         Program and product managers who are responsible for producing an API product and who want to gain greater insight into the technical issues and development processes of API design.
        </li>
        <li class="numlist" id="p0105">
         <a id="o0020">
         </a>
         3.
         <b>
          Students and educators.
         </b>
         Computer science and software engineering students who are learning how to program and are seeking a thorough resource on software design that is informed by practical experience on large-scale projects.
        </li>
       </ul>
      </div>
     </section>
     <section>
      <a id="s0030">
      </a>
      <h2 class="h1hd" id="cesectitle0030">
       Focusing on C++
      </h2>
      <div class="para_fl" id="p0110">
       Although there are many generic API design methodologies that can be taught (skills that apply equally well to any programming language or environment), ultimately an API must be expressed in a particular programming language. It's therefore important to understand the language-specific features that contribute to good API design. This book is therefore focused on the issues of designing APIs for a single language (C++) rather than diluting the content to make it applicable for all languages. Readers who wish to develop APIs for other languages, such as Java or C#, may still gain a lot of general insight from this text, but the book is directly targeted at C++ engineers who must write and maintain APIs for other engineers to consume.
      </div>
      <div class="para_indented" id="p0115">
       C++ is still one of the most widely used programming languages for large software projects and tends to be the most popular choice for performance critical code. As a result, there are many diverse C and C++ APIs available for you to use in your own applications,
       <a id="pxviii">
       </a>
       <span aria-label="xviii" epub:type="pagebreak" id="pagebreak_xviii" role="doc-pagebreak">
       </span>
       some of which I listed earlier. I'll therefore concentrate on aspects of producing good APIs in C++ and include copious source code examples to illustrate these concepts better. This means that I'll deal with C++ specific topics such as templates, encapsulation, inheritance, namespaces, operators, const correctness, memory management, concurrency, the C++ Standard Library, and the pimpl idiom.
      </div>
      <div class="para_indented" id="p0120">
       As I noted earlier, this edition of the book includes detailed coverage of all revisions of the C++ standard from C++98 through C++23. I've dedicated a chapter to covering the relevant features for each specific revision, broken out as separate sections. That way, if you're using a certain compiler version, say C++17, then you can easily review all of the API features for that version of the standard without getting distracted by features that aren't relevant to your development environment.
      </div>
     </section>
     <section>
      <a id="s0035">
      </a>
      <h2 class="h1hd" id="cesectitle0035">
       Conventions
      </h2>
      <div class="para_fl" id="p0125">
       Although it is more traditional to employ the term user to mean a person who uses a software application, such as a user of Microsoft Word or Mozilla Firefox, in the context of API design I will apply the term to mean a software developer who is creating an application and is using an API to achieve this. In other words, I will generally be talking about API users and not application users. The term client will be used synonymously in this regard. Note that the term client, in addition to referring to a human user of your API, can also refer impersonally to other pieces of software that must call methods in your API.
      </div>
      <div class="para_indented" id="p0130">
       Whereas many file format extensions are used to identify C++ source files, such as
       <span class="inlinecode">
        .cpp
       </span>
       ,
       <span class="inlinecode">
        .cc
       </span>
       ,
       <span class="inlinecode">
        .cxx
       </span>
       ,
       <span class="inlinecode">
        .h
       </span>
       ,
       <span class="inlinecode">
        .hh
       </span>
       , and
       <span class="inlinecode">
        .hpp
       </span>
       , I will standardize on the use of
       <span class="inlinecode">
        .cpp
       </span>
       and
       <span class="inlinecode">
        .h
       </span>
       throughout this book. I will also use the terms module and component interchangeably to mean a single
       <span class="inlinecode">
        .cpp
       </span>
       and
       <span class="inlinecode">
        .h
       </span>
       file pair (except where module is meant to refer specifically to the new modules feature of C++20). These are notably not equivalent to a class, because a component or module may contain multiple classes. I will use the term library to refer to a physical collection, or package, of components (i.e., library &gt; module/component &gt; class).
      </div>
      <div class="para_indented" id="p0135">
       The term method, although generally understood in the object-oriented programming community, is not strictly a C++ term. It originally evolved from the Smalltalk language. The equivalent C++ term is member function, although some engineers prefer the more specific definition of virtual member function. I am not particularly concerned with the subtleties of these terms in this book, so I will use method and member function interchangeably. Similarly, although the term data member is the more correct C++ expression, I will treat the term member variable as a synonym.
      </div>
      <div class="para_indented" id="p0140">
       In terms of typographical conventions, I will use a fixed-width font to typeset all source code examples, as well as any filenames or language keywords that may appear in the text. Also, I will prefer upper camel case for all class and function names in the examples that I present (i.e.,
       <span class="inlinecode">
        CamelCase
       </span>
       instead of
       <span class="inlinecode">
        camelCase
       </span>
       or
       <span class="inlinecode">
        snake_case)
       </span>
       . However, obviously I will preserve the case for any external code that I reference, such as
       <span class="inlinecode">
        std::for_each()
       </span>
       . I follow the convention of using an m prefix in front of data members (e.g.,
       <span class="inlinecode">
        mMemberVar)
       </span>
       and s in front of static variables (e.g.,
       <span class="inlinecode">
        sStaticVar)
       </span>
       .
      </div>
      <div class="para_indented" id="p0145">
       The source examples within the book are often only code snippets and are not meant to show fully functional samples. I will also often strip comments from the example code in the book. This is done for reasons of brevity and clarity. In particular, I will often omit any preprocessor guard statements around a header file. I will assume that the reader is aware that every C/C++ header should enclose all of its content within include guard statements (or
       <span class="inlinecode">
        #pragma once
       </span>
       ) and that it's good practice to contain all of your API declarations within a
       <a id="pxix">
       </a>
       <span aria-label="xix" epub:type="pagebreak" id="pagebreak_xix" role="doc-pagebreak">
       </span>
       consistent namespace. In other words, it should be assumed that each header file that I present is implicitly surrounded by code such as:
      </div>
      <pre>#ifndef MY_MODULE_H#define MY_MODULE_H// required #include files...namespace apibook {// API declarations ...}#endif // MY_MODULE_H</pre>
      <div>
       <aside aria-labelledby="b0010" epub:type="sidebar">
        <div class="box_top_space">
        </div>
        <div class="boxg1" id="b0010">
         <div class="b1textfl" id="bpar0010">
          <i>
           TIP: I will also highlight various API design tips and key concepts throughout the book. These callouts are provided to let you search quickly for a concept you wish to reread. Or if you are particularly pressed for time, you could simply scan the book for these tips and then read the surrounding text to gain greater insight for those topics that interest you the most.
          </i>
         </div>
        </div>
       </aside>
      </div>
     </section>
     <section>
      <a id="s0040">
      </a>
      <h2 class="h1hd" id="cesectitle0040">
       Book website
      </h2>
      <div class="para_fl" id="p0190">
       This book also has a supporting website,
       <a href="https://APIBook.com/">
        https://APIBook.com/
       </a>
       . On this site you can find general information about the book as well as supporting material such as the complete set of source code examples contained within the text. Feel free to download and play with these samples yourself. They were designed to be as simple as possible while still being useful and illustrative. I have used the cross-platform CMake build system to facilitate compiling and linking the examples, so they should work on Windows, Mac OS X, and UNIX operating systems.
      </div>
      <div class="para_indented" id="p0195">
       I will publish any information about new revisions of this book and any errata on this website. You can also find my contact information on the website, if you have any corrections or suggestions you want to share with me. If I make a change to the book based on your feedback, I will attribute your contribution on the website and in the acknowledgments section of a subsequent printing of the book.
      </div>
     </section>
    </section>
   </div>
  </div>
 </body>
</html>
